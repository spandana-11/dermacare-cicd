import{r as d,_ as sa,R as ue,c as ke,P,u as ta,j as e,B as E,b as ia,a as ra,Q as oa,a6 as Te,h as pe,F as na,H as la,W as ca,y as da}from"./index-CE8wgZIf.js";import{b as he}from"./index.esm-D3SzBvqQ.js";import{u as ma,G as ua}from"./DoctorAPI-D6QMmxog.js";import{c as ge}from"./capitalizeWords-CuwF8AcI.js";import{C as f}from"./CFormLabel-1p4Lfu_H.js";import{S as Z}from"./react-select.esm-DayCyrLE.js";import{L as pa}from"./loader-CsxI0wUU.js";import{F as ha}from"./index.es-BLtM74J4.js";import{h as ga}from"./index-BS1iOPDO.js";import{C as xa,a as fa,b as va}from"./CModalHeader-bTJJxI9I.js";import{C as $,a as h}from"./CRow-CgNpeY14.js";import{C as I}from"./CFormInput-Po4QMieX.js";import{C as R}from"./CFormSelect-CaEax12Y.js";import{C as ba}from"./CFormTextarea-CygHvoyJ.js";import{C as xe}from"./CFormCheck-DIDLIrWw.js";import{C as ja}from"./CModalFooter-26nQh_i4.js";import"./defineProperty-DevPl9dM.js";import"./slicedToArray-D6Gft5C9.js";import"./CNavItem-D_DanzKb.js";const fe=d.forwardRef((o,m)=>{var{className:y,id:S,invalid:N,label:v,reverse:u,size:j,type:T="checkbox",valid:O}=o,A=sa(o,["className","id","invalid","label","reverse","size","type","valid"]);return ue.createElement("div",{className:ke("form-check form-switch",{"form-check-reverse":u,[`form-switch-${j}`]:j,"is-invalid":N,"is-valid":O},y)},ue.createElement("input",Object.assign({type:T,className:ke("form-check-input",{"is-invalid":N,"is-valid":O}),id:S},A,{ref:m})),v&&ue.createElement(f,Object.assign({customClassName:"form-check-label"},S&&{htmlFor:S}),v))});fe.propTypes={className:P.string,id:P.string,invalid:P.bool,label:P.oneOfType([P.string,P.node]),reverse:P.bool,size:P.oneOf(["lg","xl"]),type:P.oneOf(["checkbox","radio"]),valid:P.bool};fe.displayName="CFormSwitch";const ya=({doctor:o})=>{const m=ta(),[y,S]=d.useState(o.doctorAvailabilityStatus||!1);if(!o)return null;const N=async v=>{const u=v.target.checked;S(u),await ma(o.doctorId,u)?E.success(`Availability set to ${u?"Available":"Not Available"}`):(E.error("Failed to update availability"),S(!u))};return e.jsxs("div",{className:"doctor-card",children:[e.jsx("div",{className:"doctor-avatar",children:e.jsx("img",{src:o.doctorPicture,alt:`Photo of Dr. ${o.doctorName||"Doctor"}`,onError:v=>{v.target.src!==window.location.origin+"/default-avatar.png"&&(v.target.src="/default-avatar.png")}})}),e.jsxs("div",{className:"doctor-info",children:[e.jsxs("h2",{children:[ge(o.doctorName),", ",ge(o.qualification)]}),e.jsx("p",{className:"speciality",children:ge(o.specialization)}),e.jsxs("p",{children:[o.experience," Years of experience"]}),e.jsxs("div",{className:"availability-toggle d-flex align-items-center gap-2 mt-2",children:[e.jsx("label",{htmlFor:`availability-${o.doctorId}`,className:"fw-bold mb-0  ",style:{whiteSpace:"nowrap"},children:"Doctor Availability"}),e.jsx(fe,{id:`availability-${o.doctorId}`,checked:y,onChange:N,style:{backgroundColor:"var(--color-black)",marginTop:"-10px",borderColor:"var(--color-bgcolor)"}})]})]}),e.jsxs("div",{className:"doctor-action d-flex flex-column align-items-center gap-2 p-2 border rounded shadow-sm",children:[e.jsx("button",{className:"btn btn-info w-100",onClick:()=>m(`/Doctor/${o.doctorId}`,{state:{doctor:o}}),"aria-label":`View details of Dr. ${o.doctorName}`,children:"View Details"}),e.jsxs("p",{className:"mb-0 ",style:{color:"var(--color-black)"},children:[e.jsx("strong",{children:"ID:"})," ",o.doctorId]})]}),e.jsx("style",{children:`
       .doctor-card {
  display: flex;
  align-items: flex-start;
  padding: 16px ;
  border: 1px solid #eaeaea;
  border-radius: 12px;
  margin-bottom: 16px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  background-color: #fff;
  gap: 16px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.doctor-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.doctor-avatar img {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #f1f1f1;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
}

.doctor-info {
  flex-grow: 1;
  padding: 0 10px;
}

.doctor-info h2 {
  color:var(--color-black);
  font-size: 18px;
  margin: 0 0 6px;
  font-weight: 700;
}

.speciality {
  margin: 4px 0;
  color:var(--color-black);
  font-size: 14px;
}

.doctor-info p {
 
  color:var(--color-black);
  font-size: 14px;
}

.availability-toggle label {
margin-top:-30px;
  font-size: 14px;
  color:var(--color-black);
}

.doctor-action {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 10px;
  border: 1px solid var(--color-black);
  border-radius: 10px;
  background-color: #fafafa;
  min-width: 160px;
  max-width: 200px;
}

.doctor-action button {
  background-color:var(--color-black);
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  width: 100%;
  transition: background-color 0.2s;
}

.doctor-action button:hover {
  background-color:var(--color-black);
}

      `})]})},_={_origin:"https://api.emailjs.com"},Na=(o,m="https://api.emailjs.com")=>{_._userID=o,_._origin=m},ze=(o,m,y)=>{if(!o)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!m)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!y)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ae{constructor(m){this.status=m.status,this.text=m.responseText}}const Le=(o,m,y={})=>new Promise((S,N)=>{const v=new XMLHttpRequest;v.addEventListener("load",({target:u})=>{const j=new Ae(u);j.status===200||j.text==="OK"?S(j):N(j)}),v.addEventListener("error",({target:u})=>{N(new Ae(u))}),v.open("POST",_._origin+o,!0),Object.keys(y).forEach(u=>{v.setRequestHeader(u,y[u])}),v.send(m)}),Sa=(o,m,y,S)=>{const N=S||_._userID;return ze(N,o,m),Le("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:N,service_id:o,template_id:m,template_params:y}),{"Content-type":"application/json"})},Ca=o=>{let m;if(typeof o=="string"?m=document.querySelector(o):m=o,!m||m.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return m},wa=(o,m,y,S)=>{const N=S||_._userID,v=Ca(y);ze(N,o,m);const u=new FormData(v);return u.append("lib_version","3.2.0"),u.append("service_id",o),u.append("template_id",m),u.append("user_id",N),Le("/api/v1.0/email/send-form",u)},Fa={init:Na,send:Sa,sendForm:wa},Ia=({name:o,email:m,password:y,clinicName:S,userID:N})=>{const v={name:`${o}`,email:m,userID:N,password:y,clinicName:`${S}`,downloadLink:"https://play.google.com/store/apps/details?id=com.whatsapp"};Fa.send("service_xx8z5p5","template_x57efme",v,"csbSLIKhSrOUjeqsQ").then(u=>{console.log("Email sent successfully:",u)}).catch(u=>{console.error("Failed to send email:",u)})},os=()=>{const{doctorData:o,errorMessage:m,setDoctorData:y,setSelectedHospital:S,fetchHospitalDetails:N,fetchDoctorDetails:v}=ia(),[u,j]=d.useState(!1),[T,O]=d.useState({serviceName:"",serviceId:""}),[A,ve]=d.useState([]),[Oe,Y]=d.useState(!1),[k,qe]=d.useState({inClinic:!1,online:!1,serviceTreatment:!1}),X=a=>{qe(s=>{const t={...s,[a]:!s[a]},r=[];return t.serviceTreatment&&r.push("Services & Treatments"),t.inClinic&&r.push("In-Clinic"),t.online&&r.push("Video/Online"),p(l=>({...l,availableConsultations:r})),console.log("Available Consultations:",r),t})},[i,p]=d.useState({doctorPicture:null,doctorLicence:"",doctorMobileNumber:"",doctorEmail:"",doctorName:"",service:[],subServices:[],specialization:"",gender:"",experience:"",qualification:"",associationsOrMemberships:"",branch:[],availableDays:"",availableTimes:"",profileDescription:"",doctorSignature:null,doctorFees:{inClinicFee:"",vedioConsultationFee:""},focusAreas:[],languages:[],highlights:[],availableConsultations:[]}),[H,ee]=d.useState(""),[B,ae]=d.useState(""),[V,se]=d.useState(""),[G,te]=d.useState(""),[$e,Re]=d.useState([]),[Da,_e]=d.useState([]),[Pa,Ma]=d.useState(""),[Ea,ka]=d.useState([]),[He,ie]=d.useState([]),[W,re]=d.useState([]),[Ta,Be]=d.useState([]),[Q,be]=d.useState(""),[Aa,za]=d.useState(""),[n,c]=d.useState({}),[Ve,je]=d.useState(!1),[La,oe]=d.useState(""),[ye,Ne]=d.useState([]),[Ge,We]=d.useState(!0),[Oa,ne]=d.useState({}),Se=(a,s)=>{if(s==="start"){ee(a);const t=`${a} - ${B||""}`.trim();p(r=>({...r,availableDays:t}))}else if(s==="end"){ae(a);const t=`${H||""} - ${a}`.trim();p(r=>({...r,availableDays:t}))}},Ce=(a,s)=>{if(s==="start"){se(a);const t=`${a} - ${G||""}`.trim();p(r=>({...r,availableTimes:t}))}else if(s==="end"){te(a);const t=`${V||""} - ${a}`.trim();p(r=>({...r,availableTimes:t}))}},Qe=async a=>{if(!(!Array.isArray(a)||a.length===0))try{const t=(await Promise.all(a.map(async r=>{const l=await la(r);return console.log(l.data),l.data||[]}))).flat().flatMap(r=>r.subServices||[]);re(t)}catch(s){console.error("Failed to fetch subservices:",s),re([])}},Ke=async a=>{const{name:s,value:t}=a.target;if(s==="categoryId"){O(r=>({...r,categoryId:t,serviceId:[],serviceName:[]}));try{const l=(await Promise.all(t.map(async b=>{var w;return((w=(await pe.get(`/${na}/${b}`)).data)==null?void 0:w.data)||[]}))).flat();ie(l);const C=l.map(b=>({label:b.serviceName,value:b.serviceId}));Ne(C)}catch(r){console.error("❌ Failed to fetch services:",r),ie([]),Ne([])}}},we=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Fe=["07:00 AM","08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","07:00 PM","08:00 PM","09:00 PM","10:00 PM"],Je=async()=>{try{const a=await da();if(a.data&&Array.isArray(a.data))Re(a.data);else throw new Error("Invalid category data format");const s=await Te();console.log(s.data),_e(s.data)}catch(a){console.error("Error fetching data:",a),ne("Failed to fetch data. Please try again later.")}finally{}},[Ie,Ue]=d.useState([]),[qa,De]=d.useState(!1);d.useEffect(()=>{(async()=>{const s=localStorage.getItem("HospitalId");try{je(!0),await Je(),await Te();const t=await pe.get(`/doctors/hospitalById/${s}`);oe(t?"":"Hospital data not found"),De(!0);const r=await ua(s),l=r.data||[];console.log("Branch API response:",r);const C=l.map(b=>({value:b.branchId||b.id||b.name,label:b.branchName||b.name}));Ue(C)}catch(t){console.error(t),oe("Failed to fetch hospital details")}finally{je(!1),De(!1)}})()},[]);const Ze=()=>{const a={};let s=!0;const t=["Mon","Tue","Wed","Thu","Fri","Sat"];(!T.categoryId||T.categoryId.length===0)&&(a.categoryId="Please select at least one category.",s=!1),(!A||A.length===0)&&(a.serviceId="Please select at least one service.",s=!1),(!Q||Q.length===0)&&(a.subServiceName="Please select at least one sub service.",s=!1),i.doctorName.trim()||(a.doctorName="Doctor name is required",s=!1),i.doctorLicence.trim()||(a.doctorLicence="License number is required",s=!1),(!i.doctorMobileNumber||!/^[789]\d{9}$/.test(i.doctorMobileNumber))&&(a.doctorMobileNumber="Enter a valid 10-digit mobile number starting with 7, 8, or 9",s=!1),(!i.doctorEmail||!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(i.doctorEmail))&&(a.doctorEmail="Please enter a valid Email",s=!1),(!i.experience||isNaN(i.experience)||i.experience<0)&&(a.experience="Enter valid experience",s=!1),i.qualification.trim()||(a.qualification="Qualification is required",s=!1),i.specialization.trim()||(a.specialization="Specialization is required",s=!1),i.profileDescription.trim()||(a.profileDescription="Profile description is required",s=!1),k.inClinic&&(!i.doctorFees.inClinicFee||isNaN(i.doctorFees.inClinicFee)||Number(i.doctorFees.inClinicFee)<=0)&&(a.inClinicFee="Enter valid in-clinic fee",s=!1),k.online&&(!i.doctorFees.vedioConsultationFee||isNaN(i.doctorFees.vedioConsultationFee)||Number(i.doctorFees.vedioConsultationFee)<=0)&&(a.vedioConsultationFee="Enter valid video consultation fee",s=!1),i.doctorPicture||(a.doctorPicture="Profile picture is required",s=!1),i.doctorSignature||(a.doctorSignature="Doctor Signature is required",s=!1),!H||!B?(a.availableDays="Start and end days are required",s=!1):t.indexOf(H)>t.indexOf(B)&&(a.availableDays="Start day cannot be after end day",s=!1);const r=l=>{const[C,b]=l.split(" ");let[g,w]=C.split(":").map(Number);return b==="PM"&&g!==12&&(g+=12),b==="AM"&&g===12&&(g=0),g*60+w};return!V||!G?(a.availableTimes="Start and end times are required",s=!1):r(V)>=r(G)&&(a.availableTimes="Start time must be before end time",s=!1),i.gender||(a.gender="Please select gender",s=!1),(!i.branch||i.branch.length===0)&&(a.branch="Please select at least one branch",s=!1),c(a),s},le=$e.map(a=>({value:a.categoryId,label:a.categoryName})),Ye=async()=>{var t,r,l,C,b,g,w,de,K,Me,Ee;if((t=o==null?void 0:o.data)==null?void 0:t.some(F=>F.doctorLicence===i.doctorLicence.trim())){c(F=>({...F,doctorLicence:"This License Number already exists"}));return}if(Oe)return;if(Y(!0),!Ze()){Y(!1);return}try{const F=localStorage.getItem("HospitalId"),J=localStorage.getItem("HospitalName"),M=(W||[]).map(x=>x.subServiceId),q=(W||[]).filter(x=>Q.includes(x.subServiceId)&&M.includes(x.subServiceId)).map(x=>({subServiceId:x.subServiceId,subServiceName:x.subServiceName})),ea=(r=o.data)==null?void 0:r.some(x=>x.doctorMobileNumber===i.doctorMobileNumber),aa=(l=o.data)==null?void 0:l.some(x=>x.doctorEmail===i.doctorEmail);if(ea){E.error("A doctor with this mobile number already exists");return}if(aa){E.error("A doctor with this email already exists");return}const me={branchId:localStorage.getItem("branchId"),hospitalId:F,doctorPicture:i.doctorPicture,doctorSignature:i.doctorSignature,doctorName:i.doctorName,doctorMobileNumber:i.doctorMobileNumber,doctorEmail:i.doctorEmail,doctorLicence:i.doctorLicence,category:le.filter(x=>T.categoryId.includes(x.value)).map(x=>({categoryId:x.value,categoryName:x.label})),service:A.map(x=>({serviceId:x.serviceId,serviceName:x.serviceName})),subServices:q,gender:i.gender,experience:i.experience,qualification:i.qualification,associationsOrMemberships:i.associationsOrMemberships,branches:i.branch,specialization:i.specialization,availableDays:i.availableDays,availableTimes:i.availableTimes,profileDescription:i.profileDescription,focusAreas:i.focusAreas,languages:i.languages,highlights:i.highlights,doctorFees:{inClinicFee:i.doctorFees.inClinicFee,vedioConsultationFee:i.doctorFees.vedioConsultationFee}};console.log(me);const L=await pe.post("/addDoctor",me,{headers:{"Content-Type":"application/json"}});if(((C=L.data)==null?void 0:C.status)===201){const x=((b=L.data.data)==null?void 0:b.doctor)??me;y(U=>({...U,data:[...(U==null?void 0:U.data)||[],x]})),await Ia({name:i.doctorName,email:i.doctorEmail,password:(g=L.data.data)==null?void 0:g.temporaryPassword,userID:(w=L.data.data)==null?void 0:w.username,clinicName:J}),E.success(L.data.message||"Doctor added successfully",{position:"top-right"}),p({doctorPicture:null,doctorSignature:null,doctorLicence:"",doctorMobileNumber:"",doctorEmail:"",doctorName:"",gender:"",experience:"",qualification:"",associationsOrMemberships:"",branch:"",specialization:"",availableDays:"",availableTimes:"",profileDescription:"",focusAreas:[],languages:[],highlights:[],doctorFees:{inClinicFee:"",vedioConsultationFee:""}}),O({serviceId:"",serviceName:"",categoryId:"",categoryName:""}),ve([]),Be([]),ie([]),re([]),ee(""),ae(""),se(""),te(""),j(!1)}else throw new Error(((de=L.data)==null?void 0:de.message)||"Failed to add doctor")}catch(F){const J=(K=F==null?void 0:F.response)==null?void 0:K.status,M=((Ee=(Me=F==null?void 0:F.response)==null?void 0:Me.data)==null?void 0:Ee.message)||"Something went wrong";J===400&&M.includes("mobile number")?(E.error(M,{position:"top-right"}),ne(q=>({...q,doctorMobileNumber:M})),j(!0)):J===400&&M.includes("email")?(E.error(M,{position:"top-right"}),ne(q=>({...q,doctorEmail:M})),j(!0)):(E.error(M,{position:"top-right"}),j(!1))}finally{Y(!1)}},ce=({label:a,items:s,onAdd:t})=>{const[r,l]=d.useState(""),C=()=>{const g=r.trim();g&&!s.includes(g)&&(t([...s,g]),l(""))},b=g=>{const w=s.filter((de,K)=>K!==g);t(w)};return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-semibold",children:a}),e.jsxs("div",{className:"d-flex mb-2",children:[e.jsx("input",{type:"text",className:"form-control me-2",placeholder:`Add ${a}`,value:r,onChange:g=>l(g.target.value),onKeyDown:g=>g.key==="Enter"&&C()}),e.jsx("button",{className:"btn btn-info text-white",onClick:C,children:"Add"})]}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.map((g,w)=>e.jsxs("div",{className:"badge d-flex align-items-center",style:{padding:"8px 12px",borderRadius:"20px"},children:[e.jsx("span",{className:"me-2",children:g}),e.jsx("span",{style:{cursor:"pointer",fontSize:"10px"},onClick:()=>b(w),children:"❌"})]},w))})]})},Xe=async a=>{let s=!1;const t=localStorage.getItem("HospitalId");for(const r of a){const l=await ca(t,r);if(!l||!l.price||!l.finalCost){s=!0;break}}We(!s)},{searchQuery:z}=ra(),D=a=>(a==null?void 0:a.toString().toLowerCase())||"",[$a,Ra]=d.useState({inClinic:!0,videoConsultation:!0}),Pe=(Array.isArray(o==null?void 0:o.data)?o.data:[]).filter(a=>z.trim()?D(a.doctorName).includes(D(z))||D(a.qualification).includes(D(z))||D(a.doctorId).includes(D(z))||D(a.specialization).includes(D(z))||D(a.doctorMobileNumber).includes(D(z)):!0);return e.jsxs("div",{children:[e.jsx(oa,{}),e.jsx("div",{className:"d-flex justify-content-end mb-3",children:e.jsxs("button",{className:"btn btn-info text-white d-flex align-items-center gap-2 shadow-sm rounded-pill px-4 py-2",onClick:()=>{c({}),j(!0)},style:{background:"linear-gradient(to right, var(--color-black),var(--color-black)",border:"none",fontWeight:"600",fontSize:"16px"},children:[e.jsx(ha,{icon:ga}),e.jsx("span",{style:{color:"white"},children:"Add Doctor"})]})}),Ve?e.jsx("div",{className:"centered-message",children:e.jsx(pa,{message:"Loading doctors..."})}):m?e.jsx("div",{className:"centered-message",children:e.jsx("p",{children:m})}):!o||!o.data?null:o.data.length===0?e.jsxs("div",{className:"centered-message",children:[e.jsx("span",{children:"No doctors found for this hospital."})," ",e.jsx("span",{onClick:()=>{c({}),j(!0)},style:{fontWeight:"bold",color:"blue",cursor:"pointer"},children:"+ Add Doctor"})]}):e.jsx("div",{className:"row",children:Pe.length>0?Pe.map((a,s)=>e.jsx(ya,{doctor:a},s)):e.jsx("div",{className:"text-center w-100 py-5",children:e.jsx("p",{children:"No doctors match your search."})})}),e.jsxs(xa,{visible:u,onClose:()=>j(!1),size:"lg",backdrop:"static",children:[e.jsx(fa,{children:e.jsx("strong",{children:"Add Doctor"})}),e.jsxs(va,{children:[e.jsxs($,{className:"g-4 mb-4",children:[e.jsxs(h,{md:6,children:[e.jsxs("h6",{children:["Category Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(Z,{isMulti:!0,name:"categoryId",value:le.filter(a=>{var s;return(s=T.categoryId)==null?void 0:s.includes(a.value)}),onChange:a=>{Ke({target:{name:"categoryId",value:a.map(s=>s.value)}}),a.length>0&&c(s=>({...s,categoryId:""}))},options:le,placeholder:"Select Category"}),n.categoryId&&e.jsx("div",{className:"text-danger mt-1",children:n.categoryId})]}),e.jsxs(h,{md:6,children:[e.jsxs("h6",{children:["Service Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(Z,{isMulti:!0,name:"serviceId",value:ye.filter(a=>A.some(s=>s.serviceId===a.value)),onChange:a=>{const s=He.filter(t=>a.some(r=>r.value===t.serviceId));ve(s),Qe(s.map(t=>t.serviceId)),s.length>0&&c(t=>({...t,serviceId:""}))},options:ye,placeholder:"Select Services"}),n.serviceId&&e.jsx("div",{className:"text-danger mt-1",children:n.serviceId})]}),e.jsxs(h,{md:12,children:[e.jsxs("h6",{children:["Procedure Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(Z,{isMulti:!0,name:"subServiceName",placeholder:"Select Sub Services",options:(W||[]).map(a=>({label:a.subServiceName,value:a.subServiceId})),value:(W||[]).filter(a=>Q.includes(a.subServiceId)).map(a=>({label:a.subServiceName,value:a.subServiceId})),onChange:a=>{be(a.map(t=>t.value));const s=a.map(t=>t.value);be(s),a.length>0&&c(t=>({...t,subServiceName:""})),Xe(s)}}),!Ge&&e.jsxs("div",{className:"text-danger mt-2",children:["Some selected Procedures are missing details like price or final cost.",e.jsx("br",{}),e.jsx("a",{href:"/procedure-Management",className:"text-primary",children:"Please add Procedure details"})]}),n.subServiceName&&e.jsx("div",{className:"text-danger mt-1",children:n.subServiceName})]})]}),e.jsx("hr",{}),e.jsx("h5",{className:"mb-3",children:"Doctor Details"}),e.jsxs($,{className:"g-4 mb-4",children:[e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Doctor Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"input-group",children:e.jsx(I,{value:i.doctorName,onChange:a=>{let s=a.target.value;s=s.replace(/[0-9]/g,"");const t=s.startsWith("Dr.")?s:`Dr. ${s}`;p(r=>({...r,doctorName:t})),t.length>3&&c(r=>({...r,doctorName:""}))},invalid:!!n.doctorName})}),n.doctorName&&e.jsx("div",{className:"text-danger mt-1",children:n.doctorName})]})," ",e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["License Number",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{value:i.doctorLicence,onChange:a=>{var t;const s=a.target.value;if(p(r=>({...r,doctorLicence:s})),s.trim()){const r=(t=o==null?void 0:o.data)==null?void 0:t.some(l=>l.doctorLicence===s.trim());c(r?l=>({...l,doctorLicence:"This License Number already exists"}):l=>{const C={...l};return delete C.doctorLicence,C})}},invalid:!!(n!=null&&n.doctorLicence)}),(n==null?void 0:n.doctorLicence)&&e.jsx("small",{className:"text-danger",children:n.doctorLicence})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Gender",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(R,{value:i.gender,onChange:a=>p(s=>({...s,gender:a.target.value})),className:n.gender?"is-invalid":"",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{children:"Female"}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Other"})]}),n.gender&&e.jsx("div",{className:"text-danger",children:n.gender})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Experience (years)",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"number",value:i.experience,onChange:a=>{const s=a.target.value;p(t=>({...t,experience:s})),!isNaN(s)&&Number(s)>=0&&c(t=>({...t,experience:""}))},invalid:!!n.experience}),n.experience&&e.jsx("div",{className:"text-danger mt-1",children:n.experience})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Qualification",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{value:i.qualification,onChange:a=>{const s=a.target.value.replace(/[0-9]/g,"");p(t=>({...t,qualification:s})),c(t=>({...t,qualification:s.trim()?"":"Qualification is required"}))},invalid:!!n.qualification}),n.qualification&&e.jsx("div",{className:"text-danger mt-1",children:n.qualification})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Specialization",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{value:i.specialization,onChange:a=>{const s=a.target.value.replace(/[0-9]/g,"");p(t=>({...t,specialization:s})),c(t=>({...t,specialization:s.trim()?"":"Specialization is required"}))},invalid:!!n.specialization}),n.specialization&&e.jsx("div",{className:"text-danger mt-1",children:n.specialization})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Profile Description",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(ba,{value:i.profileDescription,onChange:a=>{const s=a.target.value.replace(/[0-9]/g,"");p(t=>({...t,profileDescription:s})),c(t=>({...t,profileDescription:s.trim()?"":"Profile description is required"}))},invalid:!!n.profileDescription,rows:4}),n.profileDescription&&e.jsx("div",{className:"text-danger mt-1",children:n.profileDescription})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Profile Picture",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"file",accept:"image/jpeg, image/png",onChange:a=>{const s=a.target.files[0];if(s){if(!["image/jpeg","image/png"].includes(s.type)){c(l=>({...l,doctorPicture:"Only JPG and PNG images are allowed"}));return}if(s.size>250*1024){c(l=>({...l,doctorPicture:"File size must be less than 250KB"}));return}const r=new FileReader;r.onloadend=()=>{p(l=>({...l,doctorPicture:r.result})),c(l=>({...l,doctorPicture:""}))},r.readAsDataURL(s)}else c(t=>({...t,doctorPicture:"Profile picture is required"}))},invalid:!!n.doctorPicture}),n.doctorPicture&&e.jsx("div",{className:"text-danger mt-1",children:n.doctorPicture})]})]}),e.jsx("hr",{}),e.jsx("h5",{className:"mb-3",children:"Working Schedule"}),e.jsxs($,{className:"g-4 mb-4",children:[e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Start Day",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(R,{value:H,onChange:a=>{ee(a.target.value),Se(a.target.value,"start"),c(s=>({...s,availableDays:""}))},children:[e.jsx("option",{value:"",children:"Select"}),we.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["End Day",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(R,{value:B,onChange:a=>{ae(a.target.value),Se(a.target.value,"end"),c(s=>({...s,availableDays:""}))},children:[e.jsx("option",{value:"",children:"Select"}),we.map(a=>e.jsx("option",{value:a,children:a},a))]}),n.availableDays&&e.jsx("div",{className:"text-danger",children:n.availableDays})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Start Time",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(R,{value:V,onChange:a=>{se(a.target.value),Ce(a.target.value,"start"),c(s=>({...s,availableTimes:""}))},children:[e.jsx("option",{value:"",children:"Select"}),Fe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["End Time",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(R,{value:G,onChange:a=>{te(a.target.value),Ce(a.target.value,"end"),c(s=>({...s,availableTimes:""}))},children:[e.jsx("option",{value:"",children:"Select"}),Fe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),n.availableTimes&&e.jsx("div",{className:"text-danger",children:n.availableTimes})]}),e.jsx("hr",{}),e.jsxs($,{className:"g-4 mb-4",children:[e.jsx(h,{xs:12,children:e.jsx("h5",{className:"mb-3",children:"Consultations & Contact"})}),e.jsx(h,{xs:12,children:e.jsxs("div",{className:"d-flex align-items-center flex-wrap gap-4",children:[e.jsx("strong",{children:"Consultation Type:"}),e.jsx(xe,{type:"checkbox",label:"Services & Treatments",checked:k.serviceTreatment,onChange:()=>X("serviceTreatment")}),e.jsx(xe,{type:"checkbox",label:"In-Clinic Consultation",checked:k.inClinic,onChange:()=>X("inClinic")}),e.jsx(xe,{type:"checkbox",label:"Online Consultation",checked:k.online,onChange:()=>X("online")})]})}),e.jsx(h,{xs:12,children:e.jsxs("div",{className:"d-flex gap-4 flex-wrap",children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs(f,{children:["In-Clinic Consultation Fee",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"number",placeholder:"In-Clinic Consultation Fee",disabled:!k.inClinic,value:i.doctorFees.inClinicFee,onChange:a=>{const s=a.target.value;p(t=>({...t,doctorFees:{...t.doctorFees,inClinicFee:s}})),s&&!isNaN(s)&&Number(s)>0&&c(t=>({...t,inClinicFee:""}))}}),n.inClinicFee&&e.jsx("div",{className:"text-danger",children:n.inClinicFee})]}),e.jsxs("div",{style:{flex:1},children:[e.jsxs(f,{children:["Online Consultation Fee",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"number",placeholder:"Online Consultation Fee",disabled:!k.online,value:i.doctorFees.vedioConsultationFee,onChange:a=>{const s=a.target.value;p(t=>({...t,doctorFees:{...t.doctorFees,vedioConsultationFee:s}})),s&&!isNaN(s)&&Number(s)>0&&c(t=>({...t,vedioConsultationFee:""}))}}),n.vedioConsultationFee&&e.jsx("div",{className:"text-danger",children:n.vedioConsultationFee})]})]})}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Contact Number",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"tel",maxLength:10,value:i.doctorMobileNumber,onChange:a=>{const s=a.target.value;/^\d{0,10}$/.test(s)&&(p(t=>({...t,doctorMobileNumber:s})),/^\d{10}$/.test(s)&&c(t=>({...t,doctorMobileNumber:""})))},placeholder:"Enter 10-digit number"}),n.doctorMobileNumber&&e.jsx("div",{className:"text-danger",children:n.doctorMobileNumber})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Email Address",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(I,{type:"email",value:i.doctorEmail,onChange:a=>{const s=a.target.value;p(r=>({...r,doctorEmail:s})),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?c(r=>({...r,doctorEmail:""})):c(r=>({...r,doctorEmail:"Enter a valid email address"}))},placeholder:"Enter doctor email",invalid:!!n.doctorEmail}),n.doctorEmail&&e.jsx("div",{className:"text-danger",children:n.doctorEmail})]})]}),e.jsx("hr",{}),e.jsx("h5",{className:"mb-3",children:"Additional Details"}),e.jsxs($,{children:[e.jsxs(h,{md:6,children:[e.jsx(f,{children:"Association/Membership"}),e.jsx(I,{value:i.associationsOrMemberships,onChange:a=>{const s=a.target.value.replace(/[0-9]/g,"");p(t=>({...t,associationsOrMemberships:s}))}})]}),e.jsxs(h,{md:6,children:[e.jsxs(f,{children:["Branch",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(Z,{isMulti:!0,options:Ie,value:Ie.filter(a=>Array.isArray(i.branch)&&i.branch.some(s=>s.branchId===a.value)),onChange:a=>p(s=>({...s,branch:a.map(t=>({branchId:t.value,branchName:t.label}))})),placeholder:"Select branches...",className:n.branch?"is-invalid":""}),n.branch&&e.jsx("div",{className:"text-danger",children:n.branch})]})]}),e.jsx(ce,{label:"Area of Expertise",items:i.focusAreas,onAdd:a=>p(s=>({...s,focusAreas:a}))}),e.jsx("div",{className:"mb-3",children:e.jsx(ce,{label:"Languages known",items:i.languages,onAdd:a=>{p(s=>({...s,languages:a})),a.length>0&&c(s=>({...s,languages:""}))}})}),e.jsx(ce,{label:"Achievements / Awards",items:i.highlights,onAdd:a=>p(s=>({...s,highlights:a}))}),e.jsxs(h,{md:6,className:"d-flex align-items-center",style:{gap:"20px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs(f,{htmlFor:"doctorSignature",children:["Doctor Signature(to add in the E-Prescription)",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",border:"1px solid #ccc",borderRadius:"4px",padding:"4px",backgroundColor:"#f8f9fa"},children:[e.jsx(he,{color:"secondary",onClick:()=>document.getElementById("file-input-doctor-signature").click(),children:"Choose File"}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.doctorSignatureFileName||"No file selected"})]}),e.jsx(I,{id:"file-input-doctor-signature",type:"file",accept:"image/jpeg, image/png",style:{display:"none"},onChange:a=>{const s=a.target.files[0];if(s){if(!["image/jpeg","image/png"].includes(s.type)){c(l=>({...l,doctorSignature:"Only JPG and PNG images are allowed"}));return}if(s.size>250*1024){c(l=>({...l,doctorSignature:"File size must be less than 250KB"}));return}const r=new FileReader;r.onloadend=()=>{p(l=>({...l,doctorSignature:r.result,doctorSignatureFileName:s.name})),c(l=>({...l,doctorSignature:""}))},r.readAsDataURL(s)}else p(t=>({...t,doctorSignature:null,doctorSignatureFileName:null})),c(t=>({...t,doctorSignature:"Profile picture is required"}))},invalid:!!n.doctorSignature}),n.doctorSignature&&e.jsx("div",{className:"text-danger p-2",children:n.doctorSignature})]}),e.jsx("div",{style:{minWidth:"150px"},children:i.doctorSignature?e.jsx("img",{src:i.doctorSignature,alt:"Doctor Signature Preview",style:{width:"150px",height:"auto",border:"1px solid #ccc",borderRadius:"4px",objectFit:"contain"}}):e.jsx("div",{style:{width:"150px",height:"80px",border:"1px dashed #ccc",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",color:"#999",fontSize:"14px"},children:"No Image"})})]})]}),e.jsxs(ja,{children:[e.jsx(he,{color:"secondary",onClick:()=>j(!1),children:"Cancel"}),e.jsx(he,{color:"info",className:"text-white",onClick:Ye,children:"Submit"})]})]}),e.jsx("style",{children:`
        .add-doctor-wrapper {
          position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
        }

        .add-doctor-btn {
          display: flex;
          align-items: center;
          background-color: #fff;
          border: 1px solid #00aaff;
          border-radius: 8px;
          padding: 8px 16px;
          color: #00aaff;
          font-weight: 600;
          font-size: 16px;
          cursor: pointer;
          transition: background-color 0.3s ease;
        }

        .add-doctor-btn:hover {
          background-color: #e0f7ff;
        }

        .add-icon-circle {
          width: 40px;
          height: 40px;
          min-width: 40px;
          min-height: 40px;
          background-color: #e6f7ff;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-right: 10px;
          border: 1px solid #00aaff;
        }

        .add-doctor-text {
          color: #00aaff;
        }
          .badge {
  background-color: #e2e3e5;
  color: #000;
}
  .centered-message {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 60vh; // Adjust based on your layout
  text-align: center;
  font-size: 1.2rem;
  color:"blue"
}
.label-required::after {
    content:"*";
    color: red;
   
  }

      `})]})};export{os as default};
