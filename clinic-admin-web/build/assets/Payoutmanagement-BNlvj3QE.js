import{r,j as e,Q as y}from"./index-DzLAwNkK.js";import{b as I,c as N,a as f}from"./index.esm-l-WhNZwE.js";/* empty css                      */import{C as M,a as j}from"./CRow-hI-EcV2S.js";import{C as T}from"./CInputGroup-DPUiSkMH.js";import{C as S}from"./CFormInput-C0Z8K9n-.js";import{C as A}from"./CInputGroupText-DL5kNw5H.js";import{c as B}from"./cil-search-CDkY_4k-.js";import{C as E,a as L,b as t,c as l,d as P,e as o}from"./CTable-s7emOImN.js";import{C as k,a as G,b as U}from"./CModalHeader-CGTy214z.js";import{C as K}from"./CModalTitle-2bXAbzNd.js";import"./CFormLabel-DycmuJxn.js";import"./CConditionalPortal-RBUkZH3n.js";const X=async()=>new Promise(d=>{setTimeout(()=>{d({data:[{transactionId:"TXN-2001",bookingId:"BKG-101",billingName:"Server User1",amount:"2500",paymentMethod:"Card",userEmail:"server1@example.com",userMobile:"9999000011",billingAddress:"Chennai, India"},{transactionId:"TXN-2002",bookingId:"BKG-102",billingName:"Server User2",amount:"4500",paymentMethod:"UPI",userEmail:"server2@example.com",userMobile:"9999000012",billingAddress:"Bangalore, India"}]})},2e3)}),D=()=>{const d=[{transactionId:"TXN-1001",bookingId:"BKG-001",billingName:"Local User1",amount:"1200",paymentMethod:"Cash",userEmail:"local1@example.com",userMobile:"9876543210",billingAddress:"Hyderabad, India"},{transactionId:"TXN-1002",bookingId:"BKG-002",billingName:"Local User2",amount:"1800",paymentMethod:"Card",userEmail:"local2@example.com",userMobile:"9876543211",billingAddress:"Mumbai, India"},{transactionId:"TXN-1003",bookingId:"BKG-003",billingName:"Local User3",amount:"2000",paymentMethod:"UPI",userEmail:"local3@example.com",userMobile:"9876543212",billingAddress:"Delhi, India"}],[b,p]=r.useState(d),[i,g]=r.useState(""),[s,m]=r.useState(null),[C,h]=r.useState(!1),[H,F]=r.useState({transactionId:"",amount:"",paymentMethod:"",paymentStatus:"",userEmail:"",userMobile:"",billingName:"",billingAddress:""});r.useEffect(()=>{(async()=>{try{h(!0);const a=await X();p((a==null?void 0:a.data)??[])}catch(a){console.error("Failed to fetch payouts:",a)}finally{h(!1)}})()},[]);const c=(b||[]).filter(n=>{var a,u,x;return((a=n.billingName)==null?void 0:a.toLowerCase().includes(i.toLowerCase()))||((u=n.userEmail)==null?void 0:u.toLowerCase().includes(i.toLowerCase()))||((x=n.userMobile)==null?void 0:x.toLowerCase().includes(i.toLowerCase()))});return e.jsxs(I,{className:"p-4",children:[e.jsx(y,{}),e.jsx("h3",{className:"mb-4",children:"Transaction List"}),e.jsxs(M,{className:"mb-3 align-items-center",children:[e.jsx(j,{md:6,children:e.jsxs(T,{children:[e.jsx(S,{placeholder:"Search by billing name, email, or mobile",value:i,onChange:n=>g(n.target.value)}),e.jsx(A,{children:e.jsx(N,{icon:B})})]})}),e.jsx(j,{md:6,className:"text-end",children:e.jsxs("strong",{children:["No. of Payouts: ",c.length]})})]}),e.jsxs(E,{striped:!0,responsive:!0,children:[e.jsx(L,{children:e.jsxs(t,{children:[e.jsx(l,{children:"S.No"}),e.jsx(l,{children:"bookingId"}),e.jsx(l,{children:"Billing Name"}),e.jsx(l,{children:"Amount"}),e.jsx(l,{children:"Payment Method"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(P,{children:C?e.jsx(t,{children:e.jsx(o,{colSpan:6,className:"text-center text-primary",children:"Loading payouts..."})}):c.length>0?c.map((n,a)=>e.jsxs(t,{children:[e.jsx(o,{children:a+1}),e.jsx(o,{children:n.bookingId}),e.jsx(o,{children:n.billingName}),e.jsx(o,{children:n.amount}),e.jsx(o,{children:n.paymentMethod}),e.jsx(o,{children:e.jsx(f,{size:"sm",color:"info",className:"text-white",onClick:()=>m(n),children:"View"})})]},`${n.bookingId}-${a}`)):e.jsx(t,{children:e.jsx(o,{colSpan:6,className:"text-center text-danger",children:"No payouts found."})})})]}),e.jsxs(k,{visible:!!s,onClose:()=>m(null),children:[e.jsx(G,{children:e.jsx(K,{children:"Transaction Details"})}),e.jsxs(U,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Transaction ID:"})," ",s==null?void 0:s.transactionId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Email:"})," ",s==null?void 0:s.userEmail]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mobile:"})," ",s==null?void 0:s.userMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",s==null?void 0:s.amount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",s==null?void 0:s.paymentMethod]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Billing Name:"})," ",s==null?void 0:s.billingName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Billing Address:"})," ",s==null?void 0:s.billingAddress]})]})]})]})};export{D as default};
