import{r as i,j as e,B as h,h as U,i as Z,a as ce,b as ne,R as oe}from"./index-D0zCbO2O.js";import{f as ie,a as T}from"./Features-D45jZVjg.js";import{c as D}from"./capitalizeWords-CuwF8AcI.js";import{C as X,a as ee,b as se}from"./CModalHeader-BWz13Y6W.js";import{C as de}from"./CModalTitle-FDE781Yk.js";import{C as me}from"./CForm-2eCkyI8T.js";import{C as u}from"./CFormLabel-CDfh8m4I.js";import{C as x}from"./CFormInput-BxUR3w9o.js";import{C as le}from"./CFormSelect-BE-mEusy.js";import{C as re}from"./CModalFooter-DhtUFWSj.js";import{b as S}from"./index.esm-CTRZmI6a.js";import{C as ue}from"./ConfirmationModal-D7Rv99BP.js";import{L as he}from"./loader-CfcsqQLc.js";import{C as xe,a as be,b as K,c as A,d as je,e as k}from"./CTable-BUHt29dN.js";import{E as Ne}from"./eye-DWRIMWWf.js";import{P as ve,T as pe}from"./trash-2-Colt81W0.js";import"./CNavItem-B31luXr5.js";const fe=({visible:b,onClose:N,onSave:q,initialData:g,viewMode:w,technicians:v,fetchTechs:ae})=>{const C={clinicId:localStorage.getItem("HospitalId"),branchId:localStorage.getItem("branchId"),hospitalName:localStorage.getItem("HospitalName"),fullName:"",gender:"male",dateOfBirth:"",mobileNumber:"",email:"",govermentId:"",dateOfJoining:"",department:"",yearsOfExperience:"",currentHospitalName:"",specialization:"",medicalRegistrationNumber:"",status:"",role:"referdoctor",address:{houseNo:"",street:"",landmark:"",city:"",state:"",postalCode:"",country:"India"},bankAccountNumber:{accountNumber:"",accountHolderName:"",ifscCode:"",bankName:"",branchName:"",panCardNumber:""}},[l,j]=i.useState(C),[I,te]=i.useState(localStorage.getItem("HospitalId")),[O,G]=i.useState(!1),[F,y]=i.useState(!1),[B,Y]=i.useState(null),[H,R]=i.useState(!1),W=["fullName","dateOfBirth","gender","mobileNumber","govermentId","department","yearsOfExperience","currentHospitalName","email","status","address.houseNo","address.street","address.city","address.state","address.postalCode","address.country","bankAccountNumber.accountNumber","bankAccountNumber.accountHolderName","bankAccountNumber.bankName","bankAccountNumber.branchName","bankAccountNumber.ifscCode","bankAccountNumber.panCardNumber"];function J(s,a){const r=[];for(const c of a){const t=c.split(".");let d=s;for(const f of t)d=d==null?void 0:d[f];(!d||String(d).trim()==="")&&r.push(c)}return r}const E=s=>{j(a=>{const r={...a.permissions};return r[s]?delete r[s]:r[s]=[],{...a,permissions:r}})},L=(s,a)=>{j(r=>{const c={...r.permissions};return c[s]||(c[s]=[]),c[s].includes(a)?c[s]=c[s].filter(t=>t!==a):c[s]=[...c[s],a],{...r,permissions:c}})},Q=s=>{j(a=>{const r={...a.permissions};return r[s]?r[s].length===T.length?r[s]=[]:r[s]=[...T]:r[s]=[...T],{...a,permissions:r}})};i.useEffect(()=>{j(g||C)},[g,b]);const m=(s,a)=>{j(r=>({...r,[s]:a}))},o=(s,a,r)=>{j(c=>({...c,[s]:{...c[s],[a]:r}}))},_=()=>{const s=J(l,W);if(s.length>0){h.error(`Please fill required fields: ${s.join(", ")}`);return}if(l.dateOfBirth){const d=new Date(l.dateOfBirth),f=new Date,$=f.getFullYear()-d.getFullYear();if((f.getMonth()<d.getMonth()||f.getMonth()===d.getMonth()&&f.getDate()<d.getDate()?$-1:$)<18){h.error("Technician must be at least 18 years old.");return}}if(!/^[6-9]\d{9}$/.test(l.mobileNumber)){h.error("Contact number must be 10 digits and start with 6-9.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){h.error("Please enter a valid email address.");return}if(v==null?void 0:v.some(d=>d.mobileNumber===l.mobileNumber&&d.id!==l.id)){h.error("Contact number already exists!");return}if(v==null?void 0:v.some(d=>d.emailId===l.email&&d.id!==l.id)){h.error("Email already exists!");return}console.log(l),q(l),j(C),N()},z=()=>{G(!1),Y(null),R(!1)},P=(s,a)=>{Y(s),R(a==null?void 0:a.includes("pdf")),G(!0)},p=({title:s,children:a})=>e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold border-b pb-2 mb-4",children:s}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:a})]}),n=({label:s,value:a})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 fw-bold",children:s}),e.jsx("p",{className:"text-base text-gray-900 text-break",children:a||"N/A"})]}),M=({label:s,value:a})=>e.jsxs("div",{className:"col-span-3",children:[s&&e.jsx("p",{className:"text-sm font-medium text-gray-600 fw-bold",children:s}),e.jsx("p",{className:"text-base text-gray-900 text-break",children:a||"N/A"})]}),V=({label:s,type:a,data:r})=>{if(!r)return e.jsxs("p",{children:[s," "]});const c=a==null?void 0:a.startsWith("image/"),t=r.startsWith("data:")?r:`data:${a};base64,${r}`;return e.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm",children:[e.jsxs("strong",{children:[s,":"]}),e.jsxs("div",{className:"mt-2",children:[c?e.jsx("img",{src:t,alt:s,className:"w-32 h-32 object-cover rounded-md border cursor-pointer",onClick:()=>P(t,a)}):e.jsx("button",{type:"button ",className:" btn text-blue-600 hover:underline block mx-2",onClick:()=>P(t,a),style:{backgroundColor:"var(--color-black)",color:"white"},children:"Preview"}),e.jsx("a",{href:t,download:s.replace(/\s+/g,"_"),className:"text-green-600 hover:underline text-sm block  btn",style:{backgroundColor:"var(--color-black)",color:"white"},children:"Download"})]})]})};return e.jsxs(e.Fragment,{children:[e.jsxs(X,{visible:b,onClose:N,size:"lg",className:"custom-modal",backdrop:"static",children:[e.jsx(ee,{children:e.jsx(de,{children:w?"Personal Information":"Add / Edit ReferDoctor"})}),e.jsx(se,{children:w?e.jsxs("div",{className:"p-4 border rounded shadow-sm bg-white ",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"fw-bold ",children:"Name : "}),e.jsx("span",{children:l.fullName})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"fw-bold",children:"Email : "}),e.jsx("span",{children:l.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"fw-bold",children:"Cantact : "}),e.jsx("span",{children:l.mobileNumber})]})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"space-y-5 mt-5",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Full Name",value:l.fullName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Email",value:l.email})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Contact",value:l.mobileNumber})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Gender",value:l.gender})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Date of Birth",value:l.dateOfBirth})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Government ID",value:l.govermentId})})]}),e.jsx(p,{title:"Work Information",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Date of Joining",value:l.dateOfJoining})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Department",value:l.department})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Experience",value:l.yearsOfExperience})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Specialization",value:l.specialization})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Current Hospital Name",value:l.currentHospitalName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Medical Registration Number",value:l.medicalRegistrationNumber})})]})}),e.jsx(p,{title:"Address",children:e.jsx(M,{value:`${l.address.houseNo}, ${l.address.street}, ${l.address.city}, ${l.address.state} - ${l.address.postalCode}, ${l.address.country}`})}),e.jsx(p,{title:"Bank Details",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Account Number",value:l.bankAccountNumber.accountNumber})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Account Holder Name",value:l.bankAccountNumber.accountHolderName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"IFSC Code",value:l.bankAccountNumber.ifscCode})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Bank Name",value:l.bankAccountNumber.bankName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"Branch Name",value:l.bankAccountNumber.branchName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(n,{label:"PAN Card",value:l.bankAccountNumber.panCardNumber})})]})}),e.jsx(p,{title:"Documents",children:e.jsxs("div",{className:"row",children:[l.qualificationOrCertifications!=""?e.jsx("div",{className:"col-md-6",children:e.jsx(V,{label:"Qualification / Certifications",type:l.qualificationOrCertificationsType,data:l.qualificationOrCertifications})}):e.jsx("p",{className:"col-md-6",children:"Not Provided qualification/Certifications"}),l.medicalFitnessCertificate!=""?e.jsx("div",{className:"col-md-6",children:e.jsx(V,{label:"Medical Fitness Certificate",type:l.medicalFitnessCertificateType||"application/pdf",data:l.medicalFitnessCertificate})}):e.jsx("p",{className:"col-md-6",children:"Not Provided medical Fitness Certificate"})]})}),e.jsx("div",{className:"mt-4"}),e.jsx(p,{title:"Other Information ",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(n,{label:"Police Verification",value:l.policeVerification})}),e.jsx("div",{className:"col-md-6",children:e.jsx(n,{label:"Vaccination Status",value:l.vaccinationStatus})}),e.jsx("div",{className:"col-md-12",children:e.jsx(M,{label:"Previous Employment",value:l.previousEmploymentHistory})}),e.jsx("div",{className:"row mb-2"})]})})]})]}):e.jsxs(me,{children:[e.jsx("h5",{children:"Basic Information"}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-5",children:[e.jsxs(u,{children:["ClinicID ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:I,disabled:!0,onChange:s=>m("clinicId",s.target.value)})]}),e.jsxs("div",{className:"col-md-7",children:[e.jsxs(u,{children:["Role ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:l.role,disabled:!0,onChange:s=>m("role",s.target.value)})]})]})}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Full Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:l.fullName,onChange:s=>m("fullName",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Gender ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs(le,{value:l.gender,onChange:s=>m("gender",s.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Date of Birth ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{type:"date",value:l.dateOfBirth,max:new Date(new Date().setFullYear(new Date().getFullYear()-18)).toISOString().split("T")[0],onChange:s=>m("dateOfBirth",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Mobile Number ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{type:"text",maxLength:10,value:l.mobileNumber,onChange:s=>{const a=s.target.value;/^\d*$/.test(a)&&m("mobileNumber",a)}})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx(u,{children:"Email"}),e.jsx(x,{type:"email",value:l.email,onChange:s=>m("email",s.target.value)})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["GovernmentID(AadharCard No) ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{maxLength:12,value:l.govermentId,onChange:s=>{const a=s.target.value;/^\d*$/.test(a)&&m("govermentId",a)}})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Medical Registration Number",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:D(l.medicalRegistrationNumber),onChange:s=>m("medicalRegistrationNumber",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Department ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:D(l.department),onChange:s=>m("department",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{children:["Specialization ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{type:"text",value:l.specialization,onChange:s=>m("specialization",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[" ",e.jsx(u,{children:"Current Hospital Name"}),e.jsx(x,{value:D(l.currentHospitalName),onChange:s=>m("currentHospitalName",s.target.value)})," "]}),e.jsxs("div",{className:"col-md-4",children:[" ",e.jsxs(u,{children:["Years of Experience ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{type:"number",value:l.yearsOfExperience,onChange:s=>m("yearsOfExperience",s.target.value)})]})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-md-4",children:[e.jsx(u,{children:"Status"}),e.jsxs(le,{value:l.status||"Active",onChange:s=>m("status",s.target.value),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4"}),e.jsx("div",{className:"col-md-4"})]}),e.jsx("h5",{className:"mt-3",children:"Address"}),Object.keys(l.address).reduce((s,a,r)=>(r%3===0&&s.push([]),s[s.length-1].push(a),s),[]).map((s,a)=>e.jsx("div",{className:"row mb-3",children:s.map(r=>e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{className:"text-capitalize",children:[r," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{type:"text",maxLength:r==="postalCode"?6:void 0,value:D(l.address[r]),onChange:c=>{let t=c.target.value;r==="postalCode"?/^\d*$/.test(t)&&o("address",r,t):o("address",r,t)}})]},r))},a)),e.jsx("h5",{className:"mt-3",children:"Bank Account Details"}),Object.keys(l.bankAccountNumber).reduce((s,a,r)=>(r%3===0&&s.push([]),s[s.length-1].push(a),s),[]).map((s,a)=>e.jsx("div",{className:"row mb-3",children:s.map(r=>e.jsxs("div",{className:"col-md-4",children:[e.jsxs(u,{className:"text-capitalize",children:[r," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(x,{value:l.bankAccountNumber[r],maxLength:r==="accountNumber"?20:r==="panCardNumber"?10:r==="ifscCode"?11:void 0,onChange:async c=>{let t=c.target.value;if(r==="accountNumber"){/^\d*$/.test(t)&&o("bankAccountNumber",r,t);return}if(r==="panCardNumber"){t=t.toUpperCase(),/^[A-Z]{0,5}[0-9]{0,4}[A-Z]{0,1}$/.test(t)&&o("bankAccountNumber",r,t),t.length===10&&(/^[A-Z]{5}[0-9]{4}[A-Z]$/.test(t)||h.error("Invalid PAN format (e.g., ABCDE1234F)"));return}if(r==="ifscCode"){if(t=t.toUpperCase(),!/^[A-Z0-9]*$/.test(t))return;if(o("bankAccountNumber",r,t),t.length===11){if(!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(t)){h.error("Invalid IFSC format (e.g., HDFC0001234)"),o("bankAccountNumber","bankName",""),o("bankAccountNumber","branchName","");return}try{const f=await fetch(`https://ifsc.razorpay.com/${t}`);if(f.ok){const $=await f.json();o("bankAccountNumber","bankName",$.BANK||""),o("bankAccountNumber","branchName",$.BRANCH||"")}else h.error("Invalid IFSC Code"),o("bankAccountNumber","bankName",""),o("bankAccountNumber","branchName","")}catch{h.error("Error fetching bank details"),o("bankAccountNumber","bankName",""),o("bankAccountNumber","branchName","")}}else o("bankAccountNumber","bankName",""),o("bankAccountNumber","branchName","");return}o("bankAccountNumber",r,t)}})]},r))},a)),F&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Set User Permissions"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>y(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"row",children:ie.map(s=>{const a=!!l.permissions[s],r=a&&l.permissions[s].length===T.length;return e.jsxs("div",{className:"col-md-5 mb-3 border p-2 rounded mx-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("label",{className:"fw-bold",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>E(s)})," ",s]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",disabled:!a,checked:r,onChange:()=>Q(s)})," ","Select All"]})]}),e.jsx("div",{className:"d-flex flex-wrap gap-3 mt-2",children:T.map(c=>{var t;return e.jsxs("label",{className:"d-flex align-items-center gap-1",children:[e.jsx("input",{type:"checkbox",disabled:!a,checked:((t=l.permissions[s])==null?void 0:t.includes(c))||!1,onChange:()=>L(s,c)}),c]},c)})})]},s)})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>y(!1),children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>y(!1),children:"Save Permissions"})]})]})})}),F&&e.jsx("div",{className:"modal-backdrop fade show"})]})}),e.jsx(re,{children:w?e.jsx(S,{color:"secondary",onClick:N,children:"Close"}):e.jsxs(e.Fragment,{children:[e.jsx(S,{style:{backgroundColor:"var(--color-bgcolor)",color:"var(--color-black)"},onClick:()=>j(C),children:"Clear"}),e.jsx(S,{color:"secondary",onClick:N,children:"Cancel"}),e.jsx(S,{style:{backgroundColor:"var(--color-black)",color:"white"},onClick:_,children:"Save"})]})})]}),e.jsxs(X,{visible:O,onClose:z,size:"xl",children:[e.jsx(ee,{onClose:z,children:e.jsx("strong",{children:H?"PDF Preview":"Image Preview"})}),e.jsx(se,{className:"text-center",children:H?e.jsx("iframe",{src:B,title:"PDF Preview",style:{width:"100%",height:"80vh",border:"none"}}):e.jsx("img",{src:B,alt:"Preview",style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:"8px"}})})]})]})},ge=()=>U.get(`${Z}/getAllReferralDoctors`),Ce=b=>U.post(`${Z}/addReferralDoctor`,b),ye=(b,N)=>U.put(`${Z}/updateReferralDoctorById/${b}`,N),ke=b=>U.delete(`${Z}/deleteReferralDoctorById/${b}`),Ze=()=>{const[b,N]=i.useState([]),[q,g]=i.useState(!1),[w,v]=i.useState(null),[ae,C]=i.useState(!1),[l,j]=i.useState(1),[I,te]=i.useState(10),{searchQuery:O,setSearchQuery:G}=ce(),[F,y]=i.useState(!1),[B,Y]=i.useState(null),[H,R]=i.useState(!1),[W,J]=i.useState(null),[E,L]=i.useState(null),[Q,m]=i.useState(!1),o=async()=>{var s;y(!0);try{const a=localStorage.getItem("HospitalId");if(a){const r=await ge(a);console.log("API Response:",r),y(!1),N(((s=r.data)==null?void 0:s.data)||[])}}catch(a){console.error("❌ Error fetching lab technicians:",a),N([]),y(!1)}finally{y(!1)}};i.useEffect(()=>{o()},[]);const _=async s=>{try{if(w)await ye(w.id,s),o(),h.success("ReferDoctor updated successfully!");else{const a=await Ce(s);await o(),console.log(a),L({username:a.data.data.userName,password:a.data.data.password}),g(!1),m(!0),h.success("ReferDoctor added successfully!")}}catch(a){h.error("❌ Failed to save ReferDoctor."),console.error("API error:",a)}},z=async s=>{console.log(s);try{await ke(s),N(a=>a.filter(r=>r.id!==s)),h.success("ReferDoctor deleted successfully!")}catch(a){h.error("❌ Failed to delete ReferDoctor."),console.error("Delete error:",a)}finally{R(!1)}},{user:P}=ne(),p=(s,a)=>{var r,c;return(c=(r=P==null?void 0:P.permissions)==null?void 0:r[s])==null?void 0:c.includes(a)},n=oe.useMemo(()=>{const s=O.toLowerCase().trim();return s?b.filter(a=>Object.values(a).some(r=>String(r).toLowerCase().includes(s))):b},[O,b]),M=n.slice((l-1)*I,l*I),V=s=>{try{return atob(s)}catch{return null}};return e.jsxs("div",{children:[p("Laboratory","create")&&e.jsx("div",{className:"mb-3 w-100",style:{display:"flex",justifyContent:"end",alignContent:"end",alignItems:"end"},children:e.jsx(S,{style:{color:"var(--color-black)",backgroundColor:"var(--color-bgcolor)"},onClick:()=>g(!0),children:"Add ReferDoctor"})}),e.jsxs(X,{visible:Q,backdrop:"static",keyboard:!1,children:[e.jsx(ee,{children:e.jsx("h5",{children:"Technician Credentials"})}),e.jsx(se,{children:E?e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",E.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," ",E.password]}),e.jsx("small",{className:"text-danger",children:"⚠️ Please save these credentials securely. They will not be shown again."})]}):e.jsx("p",{children:"No data available"})}),e.jsx(re,{children:e.jsx(S,{color:"primary",onClick:()=>{m(!1),L(null)},children:"Close"})})]}),e.jsx(ue,{isVisible:H,title:"Delete ReferDoctor",message:"Are you sure you want to delete this ReferDoctor? This action cannot be undone.",confirmText:"Yes, Delete",cancelText:"Cancel",confirmColor:"danger",cancelColor:"secondary",onConfirm:()=>z(W),onCancel:()=>R(!1)}),F?e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx(he,{message:"Loading technician..."})}):B?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh",color:"var(--color-black)"},children:B}):e.jsxs(xe,{className:"mt-3",striped:!0,hover:!0,responsive:!0,children:[e.jsx(be,{children:e.jsxs(K,{className:"pink-table  w-auto",children:[e.jsx(A,{children:"#"}),e.jsx(A,{children:"Photo"})," ",e.jsx(A,{children:"Name"}),e.jsx(A,{children:"Contact"}),e.jsx(A,{children:"Sex"}),e.jsx(A,{children:"Experience"}),e.jsx(A,{className:"text-end",children:"Actions"})]})}),e.jsx(je,{className:"pink-table",children:M.length>0?M.map((s,a)=>e.jsxs(K,{children:[e.jsx(k,{children:(l-1)*I+a+1}),e.jsx(k,{children:s.profilePicture?e.jsx("img",{src:V(s.profilePicture),alt:s.fullName,width:"40",height:"40",style:{borderRadius:"50%",objectFit:"cover",border:"1px solid var(--color-black)"}}):e.jsx("img",{src:"/assets/images/default-avatar.png",alt:"No profile",width:"40",height:"40",style:{borderRadius:"50%",objectFit:"cover",border:"1px solid var(--color-black)"}})}),e.jsx(k,{children:D(s.fullName)}),e.jsx(k,{children:D(s.mobileNumber)}),e.jsx(k,{children:D(s.gender)}),e.jsx(k,{children:s.yearsOfExperience}),e.jsx(k,{className:"text-end",children:e.jsxs("div",{className:"d-flex justify-content-end gap-2  ",children:[p("Laboratory","read")&&e.jsx("button",{className:"actionBtn",onClick:()=>{v(s),C(!0),g(!0)},title:"View",children:e.jsx(Ne,{size:18})}),p("Laboratory","update")&&e.jsx("button",{className:"actionBtn",onClick:()=>{v(s),C(!1),g(!0)},title:"Edit",children:e.jsx(ve,{size:18})}),p("Laboratory","delete")&&e.jsx("button",{className:"actionBtn",onClick:()=>{console.log(s.id),J(s.id),R(!0)},title:"Delete",children:e.jsx(pe,{size:18})})]})})]},s.id)):e.jsx(K,{children:e.jsx(k,{colSpan:"9",className:"text-center",style:{color:"var(--color-black)"},children:"No ReferDoctor found."})})})]}),!F&&e.jsx("div",{className:"d-flex justify-content-end mt-3",style:{marginRight:"40px"},children:Array.from({length:Math.ceil(n.length/I)},(s,a)=>e.jsx(S,{style:{backgroundColor:l===a+1?"var(--color-black)":"#fff",color:l===a+1?"#fff":"var(--color-black)",border:"1px solid #ccc",borderRadius:"5px",cursor:"pointer"},className:"ms-2",onClick:()=>j(a+1),children:a+1},a))}),e.jsx(fe,{visible:q,onClose:()=>{g(!1),v(null),C(!1)},onSave:_,initialData:w,viewMode:ae,technicians:b,fetchTechs:o})]})};export{Ze as default};
