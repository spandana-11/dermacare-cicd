import{o as C,T as g,U as b,r as n,j as s,Q as y}from"./index-C6Cu0DpS.js";import{b as f,c as M,a as N}from"./index.esm-CuIIRQYS.js";/* empty css                      */import{C as T,a as x}from"./CRow-i8KC5tGX.js";import{C as I}from"./CInputGroup-DtMGS9aP.js";import{C as S}from"./CFormInput-Ducpmanj.js";import{C as A}from"./CInputGroupText-4vdlSwrW.js";import{c as P}from"./cil-search-CDkY_4k-.js";import{C as B,a as E,b as j,c as t,d as L,e as l}from"./CTable-qb4loNj2.js";import{C as k,a as $,b as G}from"./CModalHeader-Dk8K-sO9.js";import{C as H}from"./CModalTitle-CmjU-2nF.js";import"./CFormLabel-DMQAq1-n.js";import"./CConditionalPortal-DtVGpKjo.js";const R=async()=>{try{return(await C.get(`${g}/${b}`,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data}catch(a){throw a}},Y=()=>{const[a,u]=n.useState([]),[i,p]=n.useState(""),[e,c]=n.useState(null);n.useState(!1),n.useState({transactionId:"",amount:"",paymentMethod:"",paymentStatus:"",userEmail:"",userMobile:"",billingName:"",billingAddress:""}),n.useEffect(()=>{(async()=>{try{const o=await R();u((o==null?void 0:o.data)??[])}catch(o){console.error("Failed to fetch payouts:",o)}})()},[]);const d=(a||[]).filter(r=>{var o,h,m;return((o=r.billingName)==null?void 0:o.toLowerCase().includes(i.toLowerCase()))||((h=r.userEmail)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))||((m=r.userMobile)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))});return s.jsxs(f,{className:"p-4",children:[s.jsx(y,{}),s.jsx("h3",{className:"mb-4",children:"Transaction List"}),s.jsxs(T,{className:"mb-3 align-items-center",children:[s.jsx(x,{md:6,children:s.jsxs(I,{children:[s.jsx(S,{placeholder:"Search by billing name, email, or mobile",value:i,onChange:r=>p(r.target.value)}),s.jsx(A,{children:s.jsx(M,{icon:P})})]})}),s.jsx(x,{md:6,className:"text-end",children:s.jsxs("strong",{children:["No. of Payouts: ",d.length]})})]}),s.jsxs(B,{striped:!0,responsive:!0,children:[s.jsx(E,{children:s.jsxs(j,{children:[s.jsx(t,{children:"S.No"}),s.jsx(t,{children:"bookingId"}),s.jsx(t,{children:"Billing Name"}),s.jsx(t,{children:"Amount"}),s.jsx(t,{children:"paymentMethod"}),s.jsx(t,{children:"Actions"})]})}),s.jsx(L,{children:d.map((r,o)=>s.jsxs(j,{children:[s.jsx(l,{children:o+1}),s.jsx(l,{children:r.bookingId}),s.jsx(l,{children:r.billingName}),s.jsx(l,{children:r.amount}),s.jsx(l,{children:r.paymentMethod}),s.jsx(l,{children:s.jsx(N,{size:"sm",color:"info",className:"text-white",onClick:()=>c(r),children:"View"})})]},`${r.bookingId}-${o}`))})]}),s.jsxs(k,{visible:!!e,onClose:()=>c(null),children:[s.jsx($,{children:s.jsx(H,{children:"Transaction Details"})}),s.jsxs(G,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Transaction ID:"})," ",e==null?void 0:e.transactionId]}),s.jsxs("p",{children:[s.jsx("strong",{children:"User Email:"})," ",e==null?void 0:e.userEmail]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mobile:"})," ",e==null?void 0:e.userMobile]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amount:"})," ",e==null?void 0:e.amount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment Method:"})," ",e==null?void 0:e.paymentMethod]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Billing Name:"})," ",e==null?void 0:e.billingName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Billing Address:"})," ",e==null?void 0:e.billingAddress]})]})]})]})};export{Y as default};
