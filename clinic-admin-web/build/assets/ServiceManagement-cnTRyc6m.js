import{r as o,_ as Te,$ as Qe,a as R,c as Me,P as f,b as as,j as e,Q as cs,H as ns,Y as os,o as fe,B as Ne,D as be,E as Ie,Z as ls,G as A,a0 as ds,z as ms,a1 as us}from"./index-djBqUPT0.js";import{X as hs}from"./index.es-HI4CY5Sn.js";import{C as gs,c as xs,a as D}from"./index.esm-DUU_D5Td.js";import{F as vs,a as Ce}from"./index-CQQq_b6X.js";/* empty css                      */import{C as we}from"./CForm-DhlsLPS-.js";import{C as Ae}from"./CInputGroup-CRaktkm8.js";import{C as b,a as I}from"./CFormInput-LqSk0Wke.js";import{C as ps}from"./CInputGroupText-BjZEweQx.js";import{c as js}from"./cil-search-CDkY_4k-.js";import{C as ie,a as De,b as ae}from"./CModalHeader-DDYTujZq.js";import{C as Pe}from"./CModalTitle-l04AQkyV.js";import{C as p,a as n}from"./CRow-D_t7w9AM.js";import{C as ce}from"./CModalFooter-DVRWL7Mi.js";import{C as X}from"./CFormSelect-DZULOV_O.js";import{d as Ss}from"./DefaultLayout-BAvtkJJZ.js";import"./CFormLabel-Dn5StpaC.js";import"./CConditionalPortal-an2aDlym.js";var ne=o.forwardRef(function(g,$){var x,P=g.children,j=g.as,F=j===void 0?"ul":j,S=g.className,E=g.flush,C=g.layout,T=Te(g,["children","as","className","flush","layout"]);return Qe.createElement(F,R({className:Me("list-group",(x={"list-group-flush":E},x["list-group-".concat(C)]=C,x),S)},T,{ref:$}),P)});ne.propTypes={as:f.elementType,children:f.node,className:f.string,flush:f.bool,layout:f.oneOf(["horizontal","horizontal-sm","horizontal-md","horizontal-lg","horizontal-xl","horizontal-xxl"])};ne.displayName="CListGroup";var oe=o.forwardRef(function(g,$){var x,P=g.children,j=g.active,F=g.as,S=F===void 0?"li":F,E=g.className,C=g.disabled,T=g.color,Q=Te(g,["children","active","as","className","disabled","color"]),G=S==="a"||S==="button"?gs:S;return Q=R(R(R(R({},(S==="a"||S==="button")&&{active:j,disabled:C,as:S,ref:$}),j&&{"aria-current":!0}),C&&{"aria-disabled":!0}),Q),Qe.createElement(G,R({className:Me("list-group-item",(x={},x["list-group-item-".concat(T)]=T,x["list-group-item-action"]=S==="a"||S==="button",x.active=j,x.disabled=C,x),E)},Q),P)});oe.propTypes={active:f.bool,as:f.elementType,children:f.node,className:f.string,color:as,disabled:f.bool};oe.displayName="CListGroupItem";const Os=()=>{const[g,$]=o.useState(""),[x,P]=o.useState([]),[j,F]=o.useState([]),[S,E]=o.useState([]),[C,T]=o.useState(!1),[Q,G]=o.useState(null),[ys,fs]=o.useState(""),[Ns,bs]=o.useState([]),[Fe,M]=o.useState(!1),[l,Y]=o.useState(null),[le,Ee]=o.useState(!1),[V,Z]=o.useState(""),[_,de]=o.useState(""),[w,O]=o.useState([]),[z,q]=o.useState([]),[me,ee]=o.useState([]),[B,ue]=o.useState([]),[ke,se]=o.useState(""),[Le,Re]=o.useState(""),[he,Is]=o.useState(null),[W,$e]=o.useState({serviceImage:"",viewImage:"",subServiceName:"",serviceName:"",serviceImageFile:null});let ge=[];try{typeof x.descriptionQA=="string"?ge=JSON.parse(x.descriptionQA):ge=x.descriptionQA||[]}catch(s){console.error("Invalid descriptionQA format:",s)}const[r,v]=o.useState({categoryName:"",categoryId:"",serviceName:"",subServiceName:""}),[H,xe]=o.useState("add"),Ve=()=>{xe("add"),q([]),O([]),Z(""),se(""),v({categoryName:"",categoryId:"",serviceName:"",serviceId:"",subServiceId:"",subServiceName:"",price:"",discount:0,minTime:"",taxPercentage:0,status:"",serviceImage:"",serviceImageFile:null,viewImage:"",viewDescription:"",platformFeePercentage:0,descriptionQA:[]}),M(!0)},ze=async s=>{var ye;console.log(s.subServiceId),Re(s.subServiceId),xe("edit"),M(!0);const t=j.find(y=>y.categoryName===s.categoryName),i=(t==null?void 0:t.categoryId)||"";let a=[];try{a=((ye=(await fe.get(`${Ne}/${be}/${i}`)).data)==null?void 0:ye.data)||[],ee(a)}catch(y){console.error("Error fetching service list:",y)}const c=a.find(y=>y.serviceName===s.serviceName),d=(c==null?void 0:c.serviceId)||"";let m=[];if(d)try{const L=(await Ie(d)).data;Array.isArray(L)?m=L.flatMap(is=>is.subServices||[]):L!=null&&L.subServices&&(m=L.subServices)}catch(y){console.error("Error fetching subservices:",y)}ue({subServices:m});const h=m.find(y=>y.subServiceName===s.subServiceName),N=(h==null?void 0:h.subServiceId)||"",k=(h==null?void 0:h.subServiceName)||"";se(N);const Se=Array.isArray(s.descriptionQA)?s.descriptionQA:JSON.parse(s.descriptionQA||"[]"),K=s.serviceImage||"";K.startsWith("data:")||`${K}`,v({subServiceId:N,subServiceName:k,serviceName:s.serviceName||"",serviceId:d,categoryName:s.categoryName||"",categoryId:i||"",price:s.price||"",discount:s.discountPercentage||0,taxPercentage:s.taxPercentage||0,minTime:s.minTime||"",serviceImage:K,serviceImageFile:null,status:s.status||"",viewDescription:s.viewDescription||"",platformFeePercentage:s.platformFeePercentage||0,descriptionQA:Se,viewImage:s.viewImage||""}),q(Se)},qe=()=>{_.trim()&&(O([...w,_.trim()]),de(""))},Be=s=>{O(w.filter(t=>t!==s))},[He,re]=o.useState(!1),[ve,Ge]=o.useState(null),[u,te]=o.useState({subServiceName:"",serviceName:"",serviceId:"",categoryName:"",price:"",status:"",taxPercentage:"",descriptionQA:"",answers:"",minTime:"",discount:"",viewDescription:"",serviceImage:"",bannerImage:""}),[Cs,ws]=o.useState({}),U=async()=>{T(!0),G(null);try{const s=await ns();if(s.data&&Array.isArray(s.data)){const i=s.data.map(a=>({categoryId:a.categoryId,categoryName:a.categoryName}));F(s.data)}else throw new Error("Invalid category data format");const t=localStorage.getItem("HospitalId");if(t){const i=await os(t);Array.isArray(i)?P(i):(P([]),console.warn("No subservices found for this hospital."))}else console.warn("No hospitalId found in localStorage."),P([])}catch(s){console.error("Error fetching data:",s),G("Failed to fetch data. Please try again later.")}finally{T(!1)}};o.useEffect(()=>{U()},[]),o.useEffect(()=>{if(le&&(W!=null&&W.descriptionQA)&&typeof W.descriptionQA=="string")try{$e(s=>({...s,descriptionQA:JSON.parse(s.descriptionQA)}))}catch{console.error("Invalid QA format")}},[le]),o.useEffect(()=>{(()=>{const t=g.toLowerCase().trim();if(!t){E([]);return}const i=x.filter(a=>{var h,N,k;const c=(h=a.subServiceName)==null?void 0:h.toLowerCase().startsWith(t),d=(N=a.serviceName)==null?void 0:N.toLowerCase().startsWith(t),m=(k=a.categoryName)==null?void 0:k.toLowerCase().startsWith(t);return c||d||m});E(i)})()},[g,x]);const Oe=[{name:"S.No",selector:(s,t)=>t+1,width:"70px",sortable:!1},{name:"SubService Name",selector:s=>s.subServiceName,sortable:!0,width:"230px"},{name:"Service Name",selector:s=>s.serviceName,width:"230px"},{name:"Category Name",selector:s=>s.categoryName,width:"180px"},{name:"Price",selector:s=>s.price,width:"100px"},{name:"Actions",cell:s=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"250px"},children:[e.jsx("div",{color:"primary",onClick:()=>Y(s),style:{marginRight:"5px",width:"50px",color:"green"},children:"View"}),e.jsx("div",{color:"primary",onClick:()=>ze(s),style:{marginRight:"5px",width:"50px",color:"blue"},children:"Edit"}),e.jsx("div",{color:"danger",onClick:()=>es(s),style:{width:"50px",color:"red"},children:"Delete"}),e.jsx(We,{isVisible:He,message:"Are you sure you want to delete this service?",onConfirm:ss,onCancel:rs})]}),width:"150px",headerStyle:{textAlign:"center"}}],We=({isVisible:s,message:t,onConfirm:i,onCancel:a})=>e.jsxs(ie,{visible:s,onClose:a,backdrop:!1,children:[e.jsx(Ss,{style:{marginLeft:"200px"},children:" !Alert"}),e.jsx(ae,{style:{textAlign:"center"},children:t}),e.jsxs(ce,{children:[e.jsx(D,{color:"secondary",onClick:a,children:"Cancel"}),e.jsx(D,{color:"danger",onClick:i,children:"Confirm"})]})]}),Ue=()=>{const s={};return r.serviceName||(s.serviceName="Service name is required."),r.categoryName||(s.categoryName="Category is required."),r.price?isNaN(r.price)?s.price="price must be a valid number.":parseFloat(r.price)<0&&(s.price="price cannot be a negative number."):s.price="price is required.",r.status||(s.status="Status is required."),!r.discount&&r.discount!==0?s.discount="Discount is required.":parseFloat(r.discount)<0&&(s.discount="Discount cannot be a negative number."),!r.taxPercentage&&r.taxPercentage!==0?s.taxPercentage="taxPercentage is required.":parseFloat(r.taxPercentage)<0&&(s.taxPercentage="taxPercentage cannot be a negative number."),!r.minTime||isNaN(r.minTime)?s.minTime="Minimum time is required and must be a Minutes.":parseFloat(r.minTime)<=0&&(s.minTime="Minimum time must be greater than zero."),r.viewDescription||(s.viewDescription="View description is Required."),r.serviceImage||(console.log("Service Image in Form:",r.serviceImage),s.serviceImage="Please upload a service image."),r.categoryId||(s.categoryId="Please select a valid category."),te(s),Object.keys(s).length===0},Je=()=>{if(V.trim()&&w.length>0){const s={[V.trim()]:[...w]},t=[...z,s];q(t),v(i=>({...i,descriptionQA:t})),Z(""),O([])}},Ke=s=>{const t=z.filter((i,a)=>a!==s);q(t),v(i=>({...i,descriptionQA:t}))},Xe=()=>{const s=[...z];return V.trim()&&w.length>0&&s.push({[V.trim()]:[...w]}),s},Ye=async()=>{var i,a,c,d;console.log("iam from handleAddSubService calling");const s=await pe(r.serviceImageFile),t=(s==null?void 0:s.split(",")[1])||"";if(console.log("Calling validateForm..."),!Ue()){A.error("Validation failed",{position:"top-right"}),console.log("Validation failed"),M(!0);return}M(!1);try{console.log("iam from try calling");const m={hospitalId:localStorage.getItem("HospitalId"),subServiceName:r.subServiceName,subServiceId:r.subServiceId,serviceId:r.serviceId,serviceName:r.serviceName,categoryName:r.categoryName,categoryId:r.categoryId,price:r.price,discountPercentage:r.discount,taxPercentage:r.taxPercentage,minTime:r.minTime,status:r.status,subServiceImage:t,descriptionQA:Xe(),viewDescription:r.viewDescription,platformFeePercentage:r.platformFeePercentage,discountAmount:r.discount,taxAmount:r.taxAmount,discountedCost:r.discountedCost,clinicPay:r.clinicPay,finalCost:r.finalCost};if(console.log(m),console.log(r.subServiceId),!/^[a-f\d]{24}$/i.test(r.subServiceId)){A.error("SubService ID is invalid. Please re-select sub-service.",{position:"top-right"});return}console.log(m);const h=await ds(m,r.subServiceId);h.status===201?(A.success(h.data.message,{position:"top-right"}),U(),ms()):h.status===500&&A.error((a=(i=Q.response)==null?void 0:i.data)==null?void 0:a.message,{position:"top-right"})}catch(m){console.error("Error response:",m.response),A.error((d=(c=m.response)==null?void 0:c.data)==null?void 0:d.message,{position:"top-right"})}v({subServiceName:"",serviceName:"",serviceid:"",categoryName:"",price:"",discount:0,minTime:"",taxPercentage:0,status:"",serviceImage:"",viewImage:"",viewDescription:"",categoryId:""}),q([])},Ze=s=>{const t=parseInt(s,10);if(isNaN(t))return"Invalid time";if(t<60)return`${t} min`;const i=Math.floor(t/60),a=t%60;return a===0?`${i} hour${i>1?"s":""}`:`${i} hour${i>1?"s":""} ${a} min`},_e=async()=>{var s;try{const t=localStorage.getItem("HospitalId");let i="";r.serviceImageFile?i=(await pe(r.serviceImageFile)).split(",")[1]:(s=r.serviceImage)!=null&&s.startsWith("data:")?i=r.serviceImage.split(",")[1]:i=r.serviceImage||"";const a=r.price>0?Number(r.price):0,c={hospitalId:t,subServiceName:r.subServiceName||"",viewDescription:r.viewDescription||"",status:r.status||"",minTime:r.minTime||"",descriptionQA:Array.isArray(r.descriptionQA)?r.descriptionQA:[],price:a,discountPercentage:r.discount||0,taxPercentage:r.taxPercentage||0,platformFeePercentage:r.platformFeePercentage||0,subServiceImage:i};console.log("Payload for updateSubServiceData:",c);const d=await ls(Le,t,c);A.success("SubService updated successfully!",{position:"top-right"}),Ee(!1),M(!1),U()}catch(t){console.error("Update failed:",t),A.error("Error updating service.",{position:"top-right"})}},pe=s=>new Promise((t,i)=>{const a=new FileReader;a.readAsDataURL(s),a.onload=()=>t(a.result),a.onerror=c=>i(c)}),es=async s=>{console.log(s),Ge(s.subServiceId),re(!0)},ss=async()=>{console.log(ve);const s=localStorage.getItem("HospitalId");try{const t=await us(ve,s);console.log("Service deleted:",t),A.success("SubService deleted successfully!",{position:"top-right"}),U()}catch(t){console.error("Error deleting service:",t)}re(!1)},rs=()=>{re(!1),console.log("Service deletion canceled")},J=s=>{const{name:t,value:i}=s.target;if(t==="categoryName"){const a=j.find(c=>c.categoryName===i);v(c=>({...c,[t]:i,categoryId:a?a.categoryId:""}))}else v(a=>({...a,[t]:i}));te({...u,[t]:""})},ts=()=>{v({serviceName:"",categoryName:"",price:"",discount:0,taxPercentage:0,minTime:"",status:"",serviceImage:"",viewImage:"",viewDescription:"",categoryId:""}),M(!1),te({})},je=async s=>{var a;const{name:t,value:i}=s.target;if(t==="categoryName"){const c=j.find(d=>d.categoryId===i);v(d=>({...d,categoryName:(c==null?void 0:c.categoryName)||"",categoryId:i,serviceName:"",serviceId:""}));try{const m=((a=(await fe.get(`${Ne}/${be}/${i}`)).data)==null?void 0:a.data)||[];ee(m)}catch(d){console.error("Failed to fetch services:",d),ee([])}}else if(t==="serviceName"){const c=me.find(m=>m.serviceName===i),d=(c==null?void 0:c.serviceId)||"";if(v(m=>({...m,serviceName:i,serviceId:d})),d){const h=(await Ie(d)).data;let N=[];Array.isArray(h)?N=h.flatMap(k=>k.subServices||[]):h&&h.subServices&&(N=h.subServices),ue({subServices:N})}}else v(c=>({...c,[t]:i}))};return e.jsxs("div",{style:{overflow:"hidden"},children:[e.jsx(cs,{}),e.jsx("div",{children:e.jsxs(we,{className:"d-flex justify-content-end mb-3",children:[e.jsxs(Ae,{className:"mb-3",style:{marginRight:"20px",width:"400px"},children:[e.jsx(b,{type:"text",placeholder:"Search by ServiceName, Category",value:g,onChange:s=>$(s.target.value),style:{height:"40px"}}),e.jsx(ps,{style:{height:"40px"},children:e.jsx(xs,{icon:js})})]}),e.jsx(D,{color:"primary",style:{height:"40px"},onClick:()=>Ve(),children:"Add SubService Details"})]})}),l&&e.jsxs(ie,{visible:!!l,onClose:()=>Y(null),size:"xl",children:[e.jsx(De,{children:e.jsx(Pe,{className:"w-100 text-center text-primary fs-4",children:"SubService Details"})}),e.jsxs(ae,{children:[e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"SubService Name:"}),e.jsx("div",{children:l.subServiceName})]}),e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"SubService ID:"}),e.jsx("div",{children:l.subServiceId})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Service Name:"}),e.jsx("div",{children:l.serviceName})]}),e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Service Id:"}),e.jsx("div",{children:l.serviceId})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Category Name:"}),e.jsx("div",{children:l.categoryName})]}),e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Category Id:"}),e.jsx("div",{children:l.categoryId})]})]}),e.jsx(p,{className:"mb-3",children:e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Status:"}),e.jsx("div",{children:l.status})]})}),e.jsx("hr",{}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Price:"}),e.jsxs("div",{children:["₹ ",Math.round(l.price)]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Discount %:"}),e.jsxs("div",{children:[Math.round(l.discountPercentage),"%"]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Discount Amount:"}),e.jsxs("div",{children:["₹ ",Math.round(l.discountAmount)]})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Discounted Cost:"}),e.jsxs("div",{children:["₹ ",Math.round(l.discountedCost)]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Tax %:"}),e.jsxs("div",{children:[Math.round(l.taxPercentage),"%"]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Tax Amount:"}),e.jsxs("div",{children:["₹ ",Math.round(l.taxAmount)]})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Platform Fee %:"}),e.jsxs("div",{children:[Math.round(l.platformFeePercentage),"%"]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Platform Fee:"}),e.jsxs("div",{children:["₹ ",Math.round(l.platformFee)]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Clinic Pay:"}),e.jsxs("div",{children:["₹ ",Math.round(l.clinicPay)]})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Final Cost:"}),e.jsxs("div",{children:["₹ ",Math.round(l.finalCost)]})]}),e.jsxs(n,{sm:4,children:[e.jsx("strong",{children:"Service Time:"}),e.jsx("div",{children:Ze(l.minTime)})]})]}),e.jsx("hr",{}),e.jsx(p,{className:"mb-3",children:e.jsxs(n,{sm:12,children:[e.jsx("strong",{className:"mb-3",children:"Description QA:"}),Array.isArray(l.descriptionQA)&&l.descriptionQA.length>0?l.descriptionQA.map((s,t)=>{const i=Object.keys(s)[0],a=s[i];return e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:i}),e.jsx("ul",{children:a.map((c,d)=>e.jsx("li",{children:c},d))})]},t)}):e.jsx("div",{children:"No Q&A available"})]})}),e.jsx("hr",{}),e.jsxs(p,{children:[e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"Service Image:"}),l.subServiceImage?e.jsxs("div",{className:"mt-2",children:[e.jsx("img",{src:`data:image/png;base64,${l.subServiceImage}`,alt:"Service",style:{width:"100%",maxWidth:"250px",borderRadius:"8px"}}),he&&e.jsx("img",{src:he,alt:"Preview",height:"80",className:"mt-2"})]}):e.jsx("div",{children:"No image available"})]}),e.jsxs(n,{sm:6,children:[e.jsx("strong",{children:"View Description:"}),e.jsx("div",{children:l.viewDescription})]})]})]}),e.jsx(ce,{children:e.jsx(D,{color:"secondary",onClick:()=>Y(null),children:"Close"})})]}),e.jsxs(ie,{visible:Fe,onClose:()=>M(!1),size:"xl",backdrop:"static",children:[e.jsx(De,{children:e.jsx(Pe,{style:{textAlign:"center",width:"100%"},children:H==="edit"?"Edit SubService Details":"Add New SubService Details"})}),e.jsx(ae,{children:e.jsxs(we,{children:[e.jsxs(p,{className:"mb-4",children:[e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["Category Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(X,{value:r.categoryId||"",onChange:je,"aria-label":"Select Category",name:"categoryName",disabled:H==="edit",children:[e.jsx("option",{value:"",children:"Select a Category"}),j==null?void 0:j.map(s=>e.jsx("option",{value:s.categoryId,children:s.categoryName},s.categoryId))]}),u.categoryName&&e.jsx(I,{className:"text-danger",children:u.categoryName})]}),e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["Service Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(X,{name:"serviceName",value:r.serviceName||"",onChange:je,disabled:H==="edit",children:[e.jsx("option",{value:"",children:"Select Service"}),me.map(s=>e.jsx("option",{value:s.serviceName,children:s.serviceName},s.serviceId))]}),u.serviceName&&e.jsx(I,{className:"text-danger",children:u.serviceName})]})]}),e.jsxs(p,{className:"mb-4",children:[e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["Sub Service ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(X,{name:"subServiceId",value:ke,onChange:s=>{var a;const t=s.target.value;se(t);const i=(a=B==null?void 0:B.subServices)==null?void 0:a.find(c=>c.subServiceId===t);v(c=>({...c,subServiceId:t,subServiceName:(i==null?void 0:i.subServiceName)||""}))},children:[e.jsx("option",{value:"",children:"Select Sub Service"}),Array.isArray(B.subServices)&&B.subServices.map(s=>e.jsx("option",{value:s.subServiceId,children:s.subServiceName},s.subServiceId))]}),u.subServiceName&&e.jsx(I,{className:"text-danger",children:u.subServiceName})]}),e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["View Description ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{type:"text",placeholder:"View Description",value:r.viewDescription||"",name:"viewDescription",onChange:J,maxLength:100}),u.viewDescription&&e.jsx(I,{className:"text-danger",children:u.viewDescription})]})]}),e.jsxs(p,{className:"mb-4",children:[e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["Status ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(X,{value:r.status||"",onChange:J,name:"status",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"InActive",children:"Inactive"})]}),u.status&&e.jsx(I,{className:"text-danger",children:u.status})]}),e.jsxs(n,{md:6,children:[e.jsxs("h6",{children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{type:"number",value:r.price||"",onChange:s=>v(t=>({...t,price:s.target.value}))}),u.price&&e.jsx(I,{className:"text-danger",children:u.price})]})]}),e.jsxs(p,{className:"mb-4",children:[e.jsxs(n,{md:4,children:[e.jsxs("h6",{children:["Discount % ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{type:"number",placeholder:"Discount",value:r.discount||"",name:"discount",onChange:J,min:1,onKeyDown:s=>{(s.key==="-"||s.key==="e")&&s.preventDefault()}}),u.discount&&e.jsx(I,{className:"text-danger",children:u.discount})]}),e.jsxs(n,{md:4,children:[e.jsxs("h6",{children:["TaxPercentage % ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{type:"number",placeholder:"Tax Percentage",value:r.taxPercentage||"",name:"taxPercentage",onChange:J,min:1,onKeyDown:s=>{(s.key==="-"||s.key==="e")&&s.preventDefault()}}),u.taxPercentage&&e.jsx(I,{className:"text-danger",children:u.taxPercentage})]}),e.jsx(n,{children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{children:["Min Time ",e.jsx("span",{className:"text-danger",children:"*"})]})," ",e.jsx(b,{type:"number",name:"minTime",value:r.minTime||"",onChange:s=>v({...r,minTime:s.target.value}),placeholder:"Must be in Minutes"}),u.minTime&&e.jsx(I,{className:"text-danger",children:u.minTime})]})})]}),e.jsxs(n,{md:12,children:[e.jsxs("h6",{children:["Service Image ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{type:"file",accept:"image/*",onChange:s=>{const t=s.target.files[0];if(t){const i=new FileReader;i.onloadend=()=>{var c;const a=((c=i.result)==null?void 0:c.split(",")[1])||"";v(d=>({...d,serviceImage:a,serviceImageFile:t}))},i.readAsDataURL(t)}}}),(r==null?void 0:r.serviceImage)&&e.jsx("img",{src:r.serviceImage.startsWith("data:")?r.serviceImage:`data:image/jpeg;base64,${r.serviceImage}`,alt:"Preview",style:{width:100,height:100,marginTop:10}})]}),e.jsxs(n,{md:12,className:"mt-3",children:[e.jsxs("label",{className:"mb-2",children:["Question",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(b,{placeholder:"Enter your question",value:V,onChange:s=>Z(s.target.value)}),e.jsxs("label",{className:"mt-3",children:["Answers",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(Ae,{className:"mb-2",children:[e.jsx(b,{placeholder:"Enter answer",value:_,onChange:s=>de(s.target.value)}),e.jsx(D,{color:"success",onClick:qe,className:"text-white",children:e.jsx(vs,{})})]}),w.length>0&&e.jsx(ne,{className:"mb-3",children:w.map((s,t)=>e.jsxs(oe,{className:"d-flex justify-content-between align-items-center",children:[s,e.jsx(Ce,{onClick:()=>Be(s),style:{color:"gray",cursor:"pointer"}})]},t))}),e.jsx(D,{color:"info",className:"mb-3 text-white",onClick:Je,children:"Save Q&A"}),z.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"mt-4",children:"Saved Questions & Answers"}),z.map((s,t)=>{const i=Object.keys(s)[0],a=s[i];return e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{children:i}),e.jsx("ul",{children:a.map((c,d)=>e.jsx("li",{children:c},d))}),e.jsx(Ce,{onClick:()=>Ke(t),style:{color:"red",cursor:"pointer"}})]},t)})]})]})]})}),e.jsxs(ce,{children:[e.jsx(D,{color:"secondary",onClick:ts,children:"Cancel"}),e.jsx(D,{color:"primary",onClick:H==="edit"?_e:Ye,children:H==="edit"?"Update":"Add"})]})]}),C?e.jsx("div",{style:{display:"flex",justifyContent:"center",height:"300px",fontSize:"1.5rem"},children:"Loading..."}):Q?e.jsx("div",{style:{display:"flex",justifyContent:"center",height:"300px",fontSize:"1.5rem"},children:Q}):e.jsx(hs,{columns:Oe,data:S.length>0?S:x,pagination:!0,highlightOnHover:!0,pointerOnHover:!0})]})};export{Os as default};
