import{r as d,j as e,B as k,h as W,i as q,b as oe,a as ie,R as de}from"./index-BpN0qZrt.js";import{v as j,f as me,a as V}from"./Validators-FoVLkSgm.js";import{c as B}from"./capitalizeWords-CuwF8AcI.js";import{C as X,a as ee,b as se}from"./CModalHeader-DLH-68_W.js";import{C as ue}from"./CModalTitle-CwvqIfsB.js";import{C as xe}from"./CForm-D_Fm9Pc8.js";import{C as b}from"./CFormLabel-DO0eStXP.js";import{C as p}from"./CFormInput-DMF4wKOV.js";import{C as te}from"./CFormSelect-DDJD4c8G.js";import{C as ce}from"./CModalFooter-Dm04Litg.js";import{b as P}from"./index.esm-BAveQmLP.js";import{C as he}from"./ConfirmationModal-Blpddd1P.js";import{L as be}from"./loader-OBkaezw1.js";import{C as je,a as Ne,b as J,c as O,d as pe,e as R}from"./CTable-Bgk4qBUR.js";import{E as ve}from"./eye-BuIXT__x.js";import{P as ge,T as fe}from"./trash-2-CRkTwtCJ.js";import"./CNavItem-DIVzBTzM.js";const Ce=({visible:v,onClose:A,onSave:Q,initialData:g,viewMode:D,technicians:f,fetchTechs:ae})=>{const w={clinicId:localStorage.getItem("HospitalId"),branchId:localStorage.getItem("branchId"),hospitalName:localStorage.getItem("HospitalName"),fullName:"",gender:"male",dateOfBirth:"",mobileNumber:"",email:"",governmentId:"",department:"",yearsOfExperience:0,currentHospitalName:"",specialization:"",medicalRegistrationNumber:"",status:"Active",role:"referdoctor",address:{houseNo:"",street:"",landmark:"",city:"",state:"",postalCode:"",country:"India"},bankAccountNumber:{accountNumber:"",accountHolderName:"",ifscCode:"",bankName:"",branchName:"",panCardNumber:""}},[l,C]=d.useState(w),[E,ne]=d.useState(localStorage.getItem("HospitalId")),[U,le]=d.useState(!1),[T,S]=d.useState(!1),[$,re]=d.useState(null),[G,H]=d.useState(!1),[o,u]=d.useState({}),z=["fullName","dateOfBirth","gender","mobileNumber","governmentId","department","yearsOfExperience","currentHospitalName","email","status","address.houseNo","address.street","address.city","address.state","address.postalCode","address.country","bankAccountNumber.accountNumber","bankAccountNumber.accountHolderName","bankAccountNumber.bankName","bankAccountNumber.branchName","bankAccountNumber.ifscCode","bankAccountNumber.panCardNumber"];function Y(s,r){const a=[];for(const t of r){const y=t.split(".");let c=s;for(const h of y)c=c==null?void 0:c[h];(!c||String(c).trim()==="")&&a.push(t)}return a}const _=s=>{C(r=>{const a={...r.permissions};return a[s]?delete a[s]:a[s]=[],{...r,permissions:a}})},Z=(s,r)=>{C(a=>{const t={...a.permissions};return t[s]||(t[s]=[]),t[s].includes(r)?t[s]=t[s].filter(y=>y!==r):t[s]=[...t[s],r],{...a,permissions:t}})},F=s=>{C(r=>{const a={...r.permissions};return a[s]?a[s].length===V.length?a[s]=[]:a[s]=[...V]:a[s]=[...V],{...r,permissions:a}})};d.useEffect(()=>{if(g){const s={...g,dateOfBirth:g.dateOfBirth?new Date(g.dateOfBirth).toISOString().split("T")[0]:""};C(s)}else C(w)},[g,v]);const x=(s,r)=>{C(t=>({...t,[s]:r}));const a=j(s,r,{...l,[s]:r},f);u(t=>({...t,[s]:a}))},N=(s,r,a)=>{C(t=>({...t,[s]:{...t[s],[r]:a}}))},L=()=>{const s=Y(l,z);if(s.length>0){k.error(`Please fill required fields: ${s.join(", ")}`);return}if(l.dateOfBirth){const c=new Date(l.dateOfBirth),h=new Date,m=h.getFullYear()-c.getFullYear();if((h.getMonth()<c.getMonth()||h.getMonth()===c.getMonth()&&h.getDate()<c.getDate()?m-1:m)<18){k.error("Technician must be at least 18 years old.");return}}if(!/^[6-9]\d{9}$/.test(l.mobileNumber)){k.error("Contact number must be 10 digits and start with 6-9.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)){k.error("Please enter a valid email address.");return}if(f==null?void 0:f.some(c=>c.mobileNumber===l.mobileNumber&&c.id!==l.id)){k.error("Contact number already exists!");return}if(f==null?void 0:f.some(c=>c.emailId===l.email&&c.id!==l.id)){k.error("Email already exists!");return}console.log(l),Q(l),C(w),A()},I=()=>{le(!1),re(null),H(!1)},M=({title:s,children:r})=>e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold border-b pb-2 mb-4",children:s}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:r})]}),i=({label:s,value:r})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 fw-bold",children:s}),e.jsx("p",{className:"text-base text-gray-900 text-break",children:r||"N/A"})]}),n=({label:s,value:r})=>e.jsxs("div",{className:"col-span-3",children:[s&&e.jsx("p",{className:"text-sm font-medium text-gray-600 fw-bold",children:s}),e.jsx("p",{className:"text-base text-gray-900 text-break",children:r||"N/A"})]});return e.jsxs(e.Fragment,{children:[e.jsxs(X,{visible:v,onClose:A,size:"lg",className:"custom-modal",backdrop:"static",children:[e.jsx(ee,{children:e.jsx(ue,{children:D?"Personal Information":"Add / Edit ReferDoctor"})}),e.jsx(se,{children:D?e.jsxs("div",{className:"p-4 border rounded shadow-sm bg-white ",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"fw-bold ",children:"Name : "}),e.jsx("span",{children:l.fullName})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"fw-bold",children:"Email : "}),e.jsx("span",{children:l.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"fw-bold",children:"Cantact : "}),e.jsx("span",{children:l.mobileNumber})]})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"space-y-5 mt-5",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Full Name",value:l.fullName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Email",value:l.email})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Contact",value:l.mobileNumber})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Gender",value:l.gender})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Date of Birth",value:l.dateOfBirth})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Government ID",value:l.governmentId})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Status",value:l.status})})]}),e.jsx(M,{title:"Work Information",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Department",value:l.department})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Experience",value:l.yearsOfExperience})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Specialization",value:l.specialization})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Current Hospital Name",value:l.currentHospitalName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Medical Registration Number",value:l.medicalRegistrationNumber})})]})}),e.jsx(M,{title:"Address",children:e.jsx(n,{value:`${l.address.houseNo}, ${l.address.street}, ${l.address.city}, ${l.address.state} - ${l.address.postalCode}, ${l.address.country}`})}),e.jsx(M,{title:"Bank Details",children:e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Account Number",value:l.bankAccountNumber.accountNumber})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Account Holder Name",value:l.bankAccountNumber.accountHolderName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"IFSC Code",value:l.bankAccountNumber.ifscCode})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Bank Name",value:l.bankAccountNumber.bankName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"Branch Name",value:l.bankAccountNumber.branchName})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{label:"PAN Card",value:l.bankAccountNumber.panCardNumber})})]})}),e.jsx("div",{className:"mt-4"})]})]}):e.jsxs(xe,{children:[e.jsx("h5",{children:"Basic Information"}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-5",children:[e.jsxs(b,{children:["ClinicID ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:E,disabled:!0,onChange:s=>x("clinicId",s.target.value)})]}),e.jsxs("div",{className:"col-md-7",children:[e.jsxs(b,{children:["Role ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:l.role||"referdoctor",disabled:!0,onChange:s=>x("role",s.target.value)})]})]})}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Full Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:l.fullName,onChange:s=>{x("fullName",s.target.value);const r=j("fullName",s.target.value);u(a=>({...a,fullName:r}))}}),o.fullName&&e.jsx("div",{style:{color:"red",fontSize:"12px"},children:o.fullName})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Gender ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs(te,{value:l.gender,onChange:s=>x("gender",s.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Date of Birth ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{type:"date",value:l.dateOfBirth,max:new Date(new Date().setFullYear(new Date().getFullYear()-18)).toISOString().split("T")[0],onChange:s=>x("dateOfBirth",s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Mobile Number ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{type:"text",maxLength:10,value:l.mobileNumber,onChange:s=>{const r=s.target.value;if(/^\d*$/.test(r)){x("mobileNumber",r);const a=j("contactNumber",r,l);u(t=>({...t,mobileNumber:a}))}}}),o.mobileNumber&&e.jsx("div",{className:"text-danger mt-1",children:o.mobileNumber})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx(b,{children:"Email"}),e.jsx(p,{type:"email",value:l.email,onChange:s=>{const r=s.target.value;x("email",r);const a=j("emailId",r,l);u(t=>({...t,email:a}))}}),o.email&&e.jsx("div",{className:"text-danger mt-1",children:o.email})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["GovernmentID(AadharCard No) ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{maxLength:12,value:l.governmentId,onChange:s=>{const r=s.target.value;if(/^\d*$/.test(r)){x("governmentId",r);const a=j("governmentId",r,l);u(t=>({...t,governmentId:a}))}}}),o.governmentId&&e.jsx("div",{className:"text-danger mt-1",children:o.governmentId})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Medical Registration Number",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:B(l.medicalRegistrationNumber),onChange:s=>{const r=s.target.value;x("medicalRegistrationNumber",r);const a=j("medicalRegistrationNumber",r,l);u(t=>({...t,medicalRegistrationNumber:a}))}}),o.medicalRegistrationNumber&&e.jsx("div",{className:"text-danger mt-1",children:o.medicalRegistrationNumber})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Department ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:B(l.department),onChange:s=>{const r=s.target.value;x("department",r);const a=j("department",r,l);u(t=>({...t,department:a}))}}),o.department&&e.jsx("div",{className:"text-danger mt-1",children:o.department})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Specialization ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{type:"text",value:l.specialization,onChange:s=>{const r=s.target.value;x("specialization",r);const a=j("specialization",r,l);u(t=>({...t,specialization:a}))}}),o.specialization&&e.jsx("div",{className:"text-danger mt-1",children:o.specialization})]}),e.jsxs("div",{className:"col-md-4",children:[" ",e.jsx(b,{children:"Current Hospital Name"}),e.jsx(p,{value:B(l.currentHospitalName),onChange:s=>x("currentHospitalName",s.target.value)})," "]}),e.jsxs("div",{className:"col-md-4",children:[" ",e.jsxs(b,{children:["Years of Experience ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{type:"number",value:l.yearsOfExperience,onChange:s=>{const r=s.target.value;if(/^\d*$/.test(r)){x("yearsOfExperience",r);const a=j("yearsOfExperience",r,l);u(t=>({...t,yearsOfExperience:a}))}}}),o.yearsOfExperience&&e.jsx("div",{className:"text-danger mt-1",children:o.yearsOfExperience})]})]}),e.jsx("div",{className:"row mb-3",children:e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{children:["Status ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs(te,{value:l.status||"",onChange:s=>{const r=s.target.value;x("status",r);const a=j("status",r);u(t=>({...t,status:a}))},children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]}),o.status&&e.jsx("div",{className:"text-danger mt-1",children:o.status})]})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4"}),e.jsx("div",{className:"col-md-4"})]}),e.jsx("h5",{className:"mt-3",children:"Address"}),Object.keys(l.address).reduce((s,r,a)=>(a%3===0&&s.push([]),s[s.length-1].push(r),s),[]).map((s,r)=>e.jsx("div",{className:"row mb-3",children:s.map(a=>{var t;return e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{className:"text-capitalize",children:[a," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{type:"text",maxLength:a==="postalCode"?6:void 0,value:B(l.address[a]),onChange:y=>{let c=y.target.value;if(a==="postalCode"){if(/^\d*$/.test(c)){N("address",a,c);const h=j(a,c,l);u(m=>({...m,address:{...m.address,[a]:h}}))}}else{N("address",a,c);const h=j(a,c,l);u(m=>({...m,address:{...m.address,[a]:h}}))}}}),((t=o.address)==null?void 0:t[a])&&e.jsx("div",{className:"text-danger mt-1",children:o.address[a]})]},a)})},r)),e.jsx("h5",{className:"mt-3",children:"Bank Account Details"}),Object.keys(l.bankAccountNumber).reduce((s,r,a)=>(a%3===0&&s.push([]),s[s.length-1].push(r),s),[]).map((s,r)=>e.jsx("div",{className:"row mb-3",children:s.map(a=>{var t;return e.jsxs("div",{className:"col-md-4",children:[e.jsxs(b,{className:"text-capitalize",children:[a," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx(p,{value:l.bankAccountNumber[a],maxLength:a==="accountNumber"?20:a==="panCardNumber"?10:a==="ifscCode"?11:void 0,onChange:async y=>{let c=y.target.value;if(a==="accountNumber"){if(/^\d*$/.test(c)){N("bankAccountNumber",a,c);const h=j("accountNumber",c,l);u(m=>({...m,bankAccountNumber:{...m.bankAccountNumber,accountNumber:h}}))}return}if(a==="panCardNumber"){c=c.toUpperCase(),/^[A-Z]{0,5}[0-9]{0,4}[A-Z]{0,1}$/.test(c)&&N("bankAccountNumber",a,c);const h=j("panCardNumber",c,l);u(m=>({...m,bankAccountNumber:{...m.bankAccountNumber,panCardNumber:h}}));return}if(a==="ifscCode"){if(c=c.toUpperCase(),!/^[A-Z0-9]*$/.test(c))return;N("bankAccountNumber",a,c);const h=j("ifscCode",c,l);if(u(m=>({...m,bankAccountNumber:{...m.bankAccountNumber,ifscCode:h}})),c.length===11&&/^[A-Z]{4}0[A-Z0-9]{6}$/.test(c))try{const m=await fetch(`https://ifsc.razorpay.com/${c}`);if(m.ok){const K=await m.json();N("bankAccountNumber","bankName",K.BANK||""),N("bankAccountNumber","branchName",K.BRANCH||"")}}catch{N("bankAccountNumber","bankName",""),N("bankAccountNumber","branchName","")}else N("bankAccountNumber","bankName",""),N("bankAccountNumber","branchName","");return}N("bankAccountNumber",a,c)}}),((t=o.bankAccountNumber)==null?void 0:t[a])&&e.jsx("div",{className:"text-danger mt-1",children:o.bankAccountNumber[a]})]},a)})},r)),T&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Set User Permissions"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"row",children:me.map(s=>{const r=!!l.permissions[s],a=r&&l.permissions[s].length===V.length;return e.jsxs("div",{className:"col-md-5 mb-3 border p-2 rounded mx-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("label",{className:"fw-bold",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:()=>_(s)})," ",s]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",disabled:!r,checked:a,onChange:()=>F(s)})," ","Select All"]})]}),e.jsx("div",{className:"d-flex flex-wrap gap-3 mt-2",children:V.map(t=>{var y;return e.jsxs("label",{className:"d-flex align-items-center gap-1",children:[e.jsx("input",{type:"checkbox",disabled:!r,checked:((y=l.permissions[s])==null?void 0:y.includes(t))||!1,onChange:()=>Z(s,t)}),t]},t)})})]},s)})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>S(!1),children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>S(!1),children:"Save Permissions"})]})]})})}),T&&e.jsx("div",{className:"modal-backdrop fade show"})]})}),e.jsx(ce,{children:D?e.jsx(P,{color:"secondary",onClick:A,children:"Close"}):e.jsxs(e.Fragment,{children:[e.jsx(P,{style:{backgroundColor:"var(--color-bgcolor)",color:"var(--color-black)"},onClick:()=>C(w),children:"Clear"}),e.jsx(P,{color:"secondary",onClick:A,children:"Cancel"}),e.jsx(P,{style:{backgroundColor:"var(--color-black)",color:"white"},onClick:L,children:"Save"})]})})]}),e.jsxs(X,{visible:U,onClose:I,size:"xl",children:[e.jsx(ee,{onClose:I,children:e.jsx("strong",{children:G?"PDF Preview":"Image Preview"})}),e.jsx(se,{className:"text-center",children:G?e.jsx("iframe",{src:$,title:"PDF Preview",style:{width:"100%",height:"80vh",border:"none"}}):e.jsx("img",{src:$,alt:"Preview",style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:"8px"}})})]})]})},ye=()=>W.get(`${q}/getAllReferralDoctors`),ke=v=>W.post(`${q}/addReferralDoctor`,v),Ae=(v,A)=>W.put(`${q}/updateReferralDoctorById/${v}`,A),we=v=>W.delete(`${q}/deleteReferralDoctorById/${v}`),Ye=()=>{const[v,A]=d.useState([]),[Q,g]=d.useState(!1),[D,f]=d.useState(null),[ae,w]=d.useState(!1),[l,C]=d.useState(1),[E,ne]=d.useState(10),{searchQuery:U,setSearchQuery:le}=oe(),[T,S]=d.useState(!1),[$,re]=d.useState(null),[G,H]=d.useState(!1),[o,u]=d.useState(null),[z,Y]=d.useState(null),[_,Z]=d.useState(!1),F=async()=>{var n;S(!0);try{const s=localStorage.getItem("HospitalId");if(s){const r=await ye(s);console.log("API Response:",r),S(!1),A(((n=r.data)==null?void 0:n.data)||[])}}catch(s){console.error("❌ Error fetching lab technicians:",s),A([]),S(!1)}finally{S(!1)}};d.useEffect(()=>{F()},[]);const x=async n=>{try{if(D)await Ae(D.id,n),F(),k.success("ReferDoctor updated successfully!");else{const s=await ke(n);await F(),console.log(s),Y({username:s.data.data.userName,password:s.data.data.password}),g(!1),Z(!0),k.success("ReferDoctor added successfully!")}}catch(s){k.error("❌ Failed to save ReferDoctor."),console.error("API error:",s)}},N=async n=>{console.log(n);try{await we(n),A(s=>s.filter(r=>r.id!==n)),k.success("ReferDoctor deleted successfully!")}catch(s){k.error("❌ Failed to delete ReferDoctor."),console.error("Delete error:",s)}finally{H(!1)}},{user:L}=ie(),I=(n,s)=>{var r,a;return(a=(r=L==null?void 0:L.permissions)==null?void 0:r[n])==null?void 0:a.includes(s)},M=de.useMemo(()=>{const n=U.toLowerCase().trim();return n?v.filter(s=>Object.values(s).some(r=>String(r).toLowerCase().includes(n))):v},[U,v]),i=M.slice((l-1)*E,l*E);return e.jsxs("div",{children:[I("Laboratory","create")&&e.jsx("div",{className:"mb-3 w-100",style:{display:"flex",justifyContent:"end",alignContent:"end",alignItems:"end"},children:e.jsx(P,{style:{color:"var(--color-black)",backgroundColor:"var(--color-bgcolor)"},onClick:()=>g(!0),children:"Add ReferDoctor"})}),e.jsxs(X,{visible:_,backdrop:"static",keyboard:!1,children:[e.jsx(ee,{children:e.jsx("h5",{children:"Technician Credentials"})}),e.jsx(se,{children:z?e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",z.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," ",z.password]}),e.jsx("small",{className:"text-danger",children:"⚠️ Please save these credentials securely. They will not be shown again."})]}):e.jsx("p",{children:"No data available"})}),e.jsx(ce,{children:e.jsx(P,{color:"primary",onClick:()=>{Z(!1),Y(null)},children:"Close"})})]}),e.jsx(he,{isVisible:G,title:"Delete ReferDoctor",message:"Are you sure you want to delete this ReferDoctor? This action cannot be undone.",confirmText:"Yes, Delete",cancelText:"Cancel",confirmColor:"danger",cancelColor:"secondary",onConfirm:()=>N(o),onCancel:()=>H(!1)}),T?e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx(be,{message:"Loading technician..."})}):$?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh",color:"var(--color-black)"},children:$}):e.jsxs(je,{className:"mt-3",striped:!0,hover:!0,responsive:!0,children:[e.jsx(Ne,{children:e.jsxs(J,{className:"pink-table  w-auto",children:[e.jsx(O,{children:"#"}),e.jsx(O,{children:"Name"}),e.jsx(O,{children:"Contact"}),e.jsx(O,{children:"Sex"}),e.jsx(O,{children:"Experience"}),e.jsx(O,{className:"text-end",children:"Actions"})]})}),e.jsx(pe,{className:"pink-table",children:i.length>0?i.map((n,s)=>e.jsxs(J,{children:[e.jsx(R,{children:(l-1)*E+s+1}),e.jsx(R,{children:B(n.fullName)}),e.jsx(R,{children:B(n.mobileNumber)}),e.jsx(R,{children:B(n.gender)}),e.jsx(R,{children:n.yearsOfExperience}),e.jsx(R,{className:"text-end",children:e.jsxs("div",{className:"d-flex justify-content-end gap-2  ",children:[I("Laboratory","read")&&e.jsx("button",{className:"actionBtn",onClick:()=>{f(n),w(!0),g(!0)},title:"View",children:e.jsx(ve,{size:18})}),I("Laboratory","update")&&e.jsx("button",{className:"actionBtn",onClick:()=>{f(n),w(!1),g(!0)},title:"Edit",children:e.jsx(ge,{size:18})}),I("Laboratory","delete")&&e.jsx("button",{className:"actionBtn",onClick:()=>{console.log(n.id),u(n.id),H(!0)},title:"Delete",children:e.jsx(fe,{size:18})})]})})]},n.id)):e.jsx(J,{children:e.jsx(R,{colSpan:"9",className:"text-center",style:{color:"var(--color-black)"},children:"No ReferDoctor found."})})})]}),!T&&e.jsx("div",{className:"d-flex justify-content-end mt-3",style:{marginRight:"40px"},children:Array.from({length:Math.ceil(M.length/E)},(n,s)=>e.jsx(P,{style:{backgroundColor:l===s+1?"var(--color-black)":"#fff",color:l===s+1?"#fff":"var(--color-black)",border:"1px solid #ccc",borderRadius:"5px",cursor:"pointer"},className:"ms-2",onClick:()=>C(s+1),children:s+1},s))}),e.jsx(Ce,{visible:Q,onClose:()=>{g(!1),f(null),w(!1)},onSave:x,initialData:D,viewMode:ae,technicians:v,fetchTechs:F})]})};export{Ye as default};
