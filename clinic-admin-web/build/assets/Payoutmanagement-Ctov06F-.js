import{o as C,U as g,V as b,r as n,j as s,Q as y}from"./index-Cpi758hF.js";import{b as f,c as M,a as N}from"./index.esm-C7yr2Uvz.js";/* empty css                      */import{C as T,a as x}from"./CRow-BDiLlolY.js";import{C as I}from"./CInputGroup-BPcAbGJW.js";import{C as S}from"./CFormInput-DNY9nWJM.js";import{C as A}from"./CInputGroupText-CZ4DseZu.js";import{c as L}from"./cil-search-CDkY_4k-.js";import{C as P,a as B,b as j,c as t,d as E,e as a}from"./CTable-DEXNsAeo.js";import{C as k,a as $,b as F}from"./CModalHeader-DDJokkaa.js";import{C as G}from"./CModalTitle-Cu1Roa9E.js";import"./CFormLabel-BaJPW12u.js";import"./CConditionalPortal-bf5S_2dI.js";const H=async()=>{try{return(await C.get(`${g}/${b}`,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data}catch(l){throw l}},ss=()=>{const[l,u]=n.useState([]),[i,p]=n.useState(""),[e,c]=n.useState(null),[R,V]=n.useState(!1),[U,_]=n.useState({transactionId:"",amount:"",paymentMethod:"",paymentStatus:"",userEmail:"",userMobile:"",billingName:"",billingAddress:""});n.useEffect(()=>{(async()=>{try{const r=await H();u((r==null?void 0:r.data)??[])}catch(r){console.error("Failed to fetch payouts:",r)}})()},[]);const d=(l||[]).filter(o=>{var r,h,m;return((r=o.billingName)==null?void 0:r.toLowerCase().includes(i.toLowerCase()))||((h=o.userEmail)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))||((m=o.userMobile)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))});return s.jsxs(f,{className:"p-4",children:[s.jsx(y,{}),s.jsx("h3",{className:"mb-4",children:"Transaction List"}),s.jsxs(T,{className:"mb-3 align-items-center",children:[s.jsx(x,{md:6,children:s.jsxs(I,{children:[s.jsx(S,{placeholder:"Search by billing name, email, or mobile",value:i,onChange:o=>p(o.target.value)}),s.jsx(A,{children:s.jsx(M,{icon:L})})]})}),s.jsx(x,{md:6,className:"text-end",children:s.jsxs("strong",{children:["No. of Payouts: ",d.length]})})]}),s.jsxs(P,{striped:!0,responsive:!0,children:[s.jsx(B,{children:s.jsxs(j,{children:[s.jsx(t,{children:"S.No"}),s.jsx(t,{children:"bookingId"}),s.jsx(t,{children:"Billing Name"}),s.jsx(t,{children:"Amount"}),s.jsx(t,{children:"paymentMethod"}),s.jsx(t,{children:"Actions"})]})}),s.jsx(E,{children:d.map((o,r)=>s.jsxs(j,{children:[s.jsx(a,{children:r+1}),s.jsx(a,{children:o.bookingId}),s.jsx(a,{children:o.billingName}),s.jsx(a,{children:o.amount}),s.jsx(a,{children:o.paymentMethod}),s.jsx(a,{children:s.jsx(N,{size:"sm",color:"info",className:"text-white",onClick:()=>c(o),children:"View"})})]},`${o.bookingId}-${r}`))})]}),s.jsxs(k,{visible:!!e,onClose:()=>c(null),children:[s.jsx($,{children:s.jsx(G,{children:"Transaction Details"})}),s.jsxs(F,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Transaction ID:"})," ",e==null?void 0:e.transactionId]}),s.jsxs("p",{children:[s.jsx("strong",{children:"User Email:"})," ",e==null?void 0:e.userEmail]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mobile:"})," ",e==null?void 0:e.userMobile]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amount:"})," ",e==null?void 0:e.amount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment Method:"})," ",e==null?void 0:e.paymentMethod]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Billing Name:"})," ",e==null?void 0:e.billingName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Billing Address:"})," ",e==null?void 0:e.billingAddress]})]})]})]})};export{ss as default};
