import{j as e,B as N}from"./index-BpN0qZrt.js";const v=({show:r,onClose:c,features:h,actions:t,permissions:l,toggleFeature:x,toggleAllActions:b,togglePermission:p,onSave:j})=>{if(!r)return null;const o=["Doctors","Nurses","Pharmacist","Laboratory","Admin","FrontDesk","Security","OtherStaff"],i=!!l["Employee management"],y=s=>{if(o.includes(s)&&!i){N.success("Please select Employee Management first.");return}x(s)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Set User Permissions"}),e.jsx("button",{type:"button",className:"btn-close",onClick:c})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"row",children:h.map(s=>{const a=!!l[s],g=a&&l[s].length===t.length,d=o.includes(s)&&!i;return e.jsxs("div",{className:`col-md-5 mb-3 border p-2 rounded mx-4 ${d?"opacity-50":""}`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("label",{className:"fw-bold",children:[e.jsx("input",{type:"checkbox",disabled:!1,checked:a,onChange:()=>y(s)})," ",s]}),s!=="Dashboard"&&s!=="Employee management"&&e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",disabled:d||!a,checked:g,onChange:()=>b(s)})," ","Select All"]})]}),s!=="Dashboard"&&s!=="Employee management"&&e.jsx("div",{className:"d-flex flex-wrap gap-3 mt-2",children:t.map(n=>{var m;return e.jsxs("label",{className:"d-flex align-items-center gap-1",children:[e.jsx("input",{type:"checkbox",disabled:d||!a,checked:((m=l[s])==null?void 0:m.includes(n))||!1,onChange:()=>p(s,n)}),n]},n)})})]},s)})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:c,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:j,children:"Save Permissions"})]})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})};export{v as U};
