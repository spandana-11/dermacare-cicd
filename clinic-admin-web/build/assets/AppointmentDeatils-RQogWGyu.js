import{W as g,u as m,h as u,r as o,j as e}from"./index-DCoy9qDQ.js";import{a as f}from"./appointmentAPI-BxFESOn7.js";import{a as d}from"./index.esm-DtFxhFhC.js";const I=()=>{var i,t;const{id:n}=g(),h=m(),a=u(),[N,b]=o.useState(!1),[r,x]=o.useState(null),s=(i=h.state)==null?void 0:i.appointment;if(!s)return e.jsxs("div",{children:[e.jsxs("h3",{children:["No Appointment Data Found for ID: ",n]}),e.jsx(d,{color:"primary",onClick:()=>a(-1),children:"Back"})]});o.useEffect(()=>{(async()=>{if((s==null?void 0:s.status.toLowerCase())==="confirmed"||(s==null?void 0:s.status.toLowerCase())==="completed"&&(s!=null&&s.doctorId))try{const l=await f(s.doctorId);console.log(l.data.data),x(l.data.data)}catch(l){console.error("Failed to fetch doctor details:",l)}})()},[s]);const j=c=>c?c.startsWith("data:image")?c:`data:image/jpeg;base64,${c}`:"/default-doctor.png";return e.jsxs("div",{className:"container mt-4",children:[e.jsxs("div",{className:"bg-info text-white p-3 d-flex justify-content-between align-items-center rounded",children:[e.jsx("div",{children:e.jsxs("h5",{className:"mb-1",children:["Booking ID: ",s.bookingId]})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("h5",{className:"mb-1 text-warning",children:s.status}),e.jsx(d,{color:"secondary",size:"sm",onClick:()=>a(-1),children:"Back"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{className:"fw-bold",children:"Patient Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Patient Name:"})," ",s==null?void 0:s.name,"   ",e.jsx("strong",{children:"Patient Number:"})," ",s==null?void 0:s.mobileNumber,"   ",e.jsx("strong",{children:"Booking For:"})," ",s==null?void 0:s.bookingFor]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Patient Age:"})," ",s==null?void 0:s.age," Yrs   ",e.jsx("strong",{children:"Gender:"})," ",s==null?void 0:s.gender]}),e.jsxs("p",{className:"mb-3",children:[e.jsx("strong",{children:"Problem:"}),e.jsx("br",{}),s==null?void 0:s.problem]}),e.jsx("h6",{className:"fw-bold",children:"Slot & Payment Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",s==null?void 0:s.serviceDate,"   ",e.jsx("strong",{children:"Time:"})," ",s==null?void 0:s.servicetime,"   "]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Paid Amount:"})," ₹ ",s==null?void 0:s.totalFee,"   ",e.jsx("strong",{children:"Consultation Fee:"})," ₹ ",s==null?void 0:s.consultationFee,"   "]}),e.jsx("h6",{className:"fw-bold",children:"Doctor Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Doctor ID:"})," ",s==null?void 0:s.doctorId,"   ",e.jsx("strong",{children:"Consultation Type:"})," ",s==null?void 0:s.consultationType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Name:"})," ",s==null?void 0:s.servicename,"   ",e.jsx("strong",{children:"Service ID:"})," ",s==null?void 0:s.serviceId]})]}),((s==null?void 0:s.status.toLowerCase())==="confirmed"||(s==null?void 0:s.status.toLowerCase())==="completed")&&r&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"fw-bold mt-4",children:"Doctor Details"}),e.jsxs("div",{className:"d-flex align-items-center gap-3 border rounded p-3 shadow-sm",children:[e.jsx("img",{src:j(r.doctorPicture),alt:r.doctorName,width:80,height:80,className:"rounded-circle border"}),e.jsxs("div",{children:[e.jsx("h6",{className:"text-primary fw-bold mb-1",children:r.doctorName}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Specialization:"})," ",r.specialization]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Experience:"})," ",r.experience," years"]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"Qualification:"})," ",r.qualification]}),e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Languages:"})," ",(t=r.languages)==null?void 0:t.join(", ")]})]}),e.jsx("div",{className:"ms-auto",children:e.jsx(d,{color:"primary",size:"sm",className:"px-3",onClick:()=>a(`/doctor/${r.doctorId}`,{state:{doctor:r}}),children:"View Details"})})]})]})]})};export{I as default};
